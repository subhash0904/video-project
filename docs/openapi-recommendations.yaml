openapi: 3.0.3
info:
  title: Video Platform API - Recommendations
  version: 1.0.0
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
servers:
  - url: http://localhost:4000/api
security:
  - BearerAuth: []
paths:
  /recommendations/personalized:
    get:
      summary: Get personalized recommendations
      operationId: getPersonalizedRecommendations
      parameters:
        - in: query
          name: page
          schema: { type: integer, default: 1 }
        - in: query
          name: limit
          schema: { type: integer, default: 20 }
      responses:
        '200':
          description: Recommendations
          content:
            application/json:
              schema: { $ref: './openapi.yaml#/components/schemas/VideoFeedResponse' }
              example:
                success: true
                data: []
                meta:
                  page: 1
                  limit: 20
                  total: 0
                  totalPages: 0
                  hasNextPage: false
                  hasPrevPage: false
        '401':
          $ref: './openapi.yaml#/components/responses/Unauthorized'
  /recommendations/subscriptions:
    get:
      summary: Get subscription feed
      operationId: getSubscriptionFeed
      parameters:
        - in: query
          name: page
          schema: { type: integer, default: 1 }
        - in: query
          name: limit
          schema: { type: integer, default: 20 }
      responses:
        '200':
          description: Feed
          content:
            application/json:
              schema: { $ref: './openapi.yaml#/components/schemas/VideoFeedResponse' }
              example:
                success: true
                data: []
                meta:
                  page: 1
                  limit: 20
                  total: 0
                  totalPages: 0
                  hasNextPage: false
                  hasPrevPage: false
        '401':
          $ref: './openapi.yaml#/components/responses/Unauthorized'
  /recommendations/shorts:
    get:
      summary: Get shorts feed
      operationId: getShortsFeed
      security: []
      parameters:
        - in: query
          name: page
          schema: { type: integer, default: 1 }
        - in: query
          name: limit
          schema: { type: integer, default: 20 }
      responses:
        '200':
          description: Shorts
          content:
            application/json:
              schema: { $ref: './openapi.yaml#/components/schemas/VideoFeedResponse' }
              example:
                success: true
                data: []
                meta:
                  page: 1
                  limit: 20
                  total: 0
                  totalPages: 0
                  hasNextPage: false
                  hasPrevPage: false
        '400':
          $ref: './openapi.yaml#/components/responses/BadRequest'
components:
  securitySchemes:
    BearerAuth:
      $ref: './openapi.yaml#/components/securitySchemes/BearerAuth'
  schemas:
    VideoFeedResponse:
      $ref: './openapi.yaml#/components/schemas/VideoFeedResponse'

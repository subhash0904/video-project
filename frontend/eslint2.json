[{"filePath":"C:\\project\\video-project\\frontend\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\components\\layout\\AppLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\components\\navbar\\Navbar.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[922,925],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[922,925],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[959,962],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[959,962],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1233,1236],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1233,1236],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":32,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1396,1399],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1396,1399],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":62,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2389,2392],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2389,2392],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\components\\notifications\\NotificationBell.tsx","messages":[{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`performance.now` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\project\\video-project\\frontend\\src\\components\\notifications\\NotificationBell.tsx:71:17\n  69 |   const formatTime = (dateStr: string) => {\n  70 |     const d = new Date(dateStr);\n> 71 |     const now = performance.now() + performance.timeOrigin;\n     |                 ^^^^^^^^^^^^^^^^^ Cannot call impure function\n  72 |     const sec = Math.floor((now - d.getTime()) / 1000);\n  73 |     if (sec < 60) return 'just now';\n  74 |     if (sec < 3600) return `${Math.floor(sec / 60)}m ago`;","line":71,"column":17,"nodeType":null,"endLine":71,"endColumn":34}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { notificationClient, type AppNotification } from '../../utils/notificationService';\r\n\r\nexport default function NotificationBell() {\r\n  const navigate = useNavigate();\r\n  const [open, setOpen] = useState(false);\r\n  const [notifications, setNotifications] = useState<AppNotification[]>([]);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n\r\n  const fetchUnread = async () => {\r\n    const count = await notificationClient.getUnreadCount();\r\n    setUnreadCount(count);\r\n  };\r\n\r\n  // Fetch unread count on mount\r\n  useEffect(() => {\r\n    fetchUnread();\r\n    const unsub = notificationClient.onNewNotification((n) => {\r\n      setNotifications((prev) => [n, ...prev]);\r\n      setUnreadCount((c) => c + 1);\r\n    });\r\n    notificationClient.startListening();\r\n\r\n    return () => { unsub(); };\r\n  }, []);\r\n\r\n  // Click outside to close\r\n  useEffect(() => {\r\n    function handleClick(e: MouseEvent) {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(e.target as Node)) {\r\n        setOpen(false);\r\n      }\r\n    }\r\n    if (open) document.addEventListener('mousedown', handleClick);\r\n    return () => document.removeEventListener('mousedown', handleClick);\r\n  }, [open]);\r\n\r\n  async function toggleOpen() {\r\n    if (!open) {\r\n      setLoading(true);\r\n      const { notifications: list } = await notificationClient.getAll(1, 30);\r\n      setNotifications(list);\r\n      setLoading(false);\r\n    }\r\n    setOpen(!open);\r\n  }\r\n\r\n  async function handleClick(n: AppNotification) {\r\n    if (!n.read) {\r\n      await notificationClient.markRead(n.id);\r\n      setNotifications((prev) =>\r\n        prev.map((x) => (x.id === n.id ? { ...x, read: true } : x)),\r\n      );\r\n      setUnreadCount((c) => Math.max(0, c - 1));\r\n    }\r\n    if (n.actionUrl) navigate(n.actionUrl);\r\n    setOpen(false);\r\n  }\r\n\r\n  async function markAllRead() {\r\n    await notificationClient.markAllRead();\r\n    setNotifications((prev) => prev.map((x) => ({ ...x, read: true })));\r\n    setUnreadCount(0);\r\n  }\r\n\r\n  const formatTime = (dateStr: string) => {\r\n    const d = new Date(dateStr);\r\n    const now = performance.now() + performance.timeOrigin;\r\n    const sec = Math.floor((now - d.getTime()) / 1000);\r\n    if (sec < 60) return 'just now';\r\n    if (sec < 3600) return `${Math.floor(sec / 60)}m ago`;\r\n    if (sec < 86400) return `${Math.floor(sec / 3600)}h ago`;\r\n    if (sec < 604800) return `${Math.floor(sec / 86400)}d ago`;\r\n    return d.toLocaleDateString();\r\n  };\r\n\r\n  const typeIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'NEW_VIDEO':\r\n        return '≡ƒÄ¼';\r\n      case 'COMMENT':\r\n      case 'COMMENT_REPLY':\r\n        return '≡ƒÆ¼';\r\n      case 'LIKE_MILESTONE':\r\n        return 'Γ¥ñ∩╕Å';\r\n      case 'SUBSCRIBER':\r\n        return '≡ƒöö';\r\n      case 'VIDEO_PROCESSED':\r\n        return 'Γ£à';\r\n      default:\r\n        return '≡ƒôó';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\" ref={dropdownRef}>\r\n      {/* Bell Button */}\r\n      <button\r\n        onClick={toggleOpen}\r\n        className=\"relative p-2 rounded-full hover:bg-neutral-100 transition\"\r\n        title=\"Notifications\"\r\n      >\r\n        <svg className=\"w-6 h-6 text-neutral-700\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth={2}\r\n            d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"\r\n          />\r\n        </svg>\r\n        {unreadCount > 0 && (\r\n          <span className=\"absolute -top-0.5 -right-0.5 bg-red-600 text-white text-[10px] font-bold min-w-[18px] h-[18px] rounded-full flex items-center justify-center px-1\">\r\n            {unreadCount > 99 ? '99+' : unreadCount}\r\n          </span>\r\n        )}\r\n      </button>\r\n\r\n      {/* Dropdown */}\r\n      {open && (\r\n        <div className=\"absolute right-0 top-full mt-2 w-96 bg-white rounded-xl shadow-2xl border border-neutral-200 z-50 max-h-[500px] overflow-hidden flex flex-col\">\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between px-4 py-3 border-b border-neutral-200\">\r\n            <h3 className=\"font-semibold text-sm\">Notifications</h3>\r\n            {unreadCount > 0 && (\r\n              <button\r\n                onClick={markAllRead}\r\n                className=\"text-xs text-blue-600 hover:underline\"\r\n              >\r\n                Mark all as read\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* List */}\r\n          <div className=\"overflow-y-auto flex-1\">\r\n            {loading ? (\r\n              <div className=\"p-8 text-center text-neutral-400 text-sm\">Loading...</div>\r\n            ) : notifications.length === 0 ? (\r\n              <div className=\"p-8 text-center text-neutral-400 text-sm\">\r\n                <svg className=\"w-12 h-12 mx-auto mb-2 text-neutral-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\r\n                </svg>\r\n                No notifications yet\r\n              </div>\r\n            ) : (\r\n              notifications.map((n) => (\r\n                <button\r\n                  key={n.id}\r\n                  onClick={() => handleClick(n)}\r\n                  className={`w-full text-left px-4 py-3 flex items-start gap-3 hover:bg-neutral-50 transition border-b border-neutral-100 last:border-0 ${\r\n                    !n.read ? 'bg-blue-50/50' : ''\r\n                  }`}\r\n                >\r\n                  {/* Icon / Thumbnail */}\r\n                  <div className=\"flex-shrink-0 w-10 h-10 rounded-full bg-neutral-100 flex items-center justify-center text-lg\">\r\n                    {n.thumbnailUrl ? (\r\n                      <img src={n.thumbnailUrl} alt=\"\" className=\"w-10 h-10 rounded-full object-cover\" />\r\n                    ) : (\r\n                      typeIcon(n.type)\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Content */}\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <p className={`text-sm ${!n.read ? 'font-semibold' : 'font-normal'} text-neutral-900 line-clamp-1`}>\r\n                      {n.title}\r\n                    </p>\r\n                    <p className=\"text-xs text-neutral-600 line-clamp-2 mt-0.5\">{n.body}</p>\r\n                    <span className=\"text-[11px] text-neutral-400 mt-1 block\">{formatTime(n.createdAt)}</span>\r\n                  </div>\r\n\r\n                  {/* Unread dot */}\r\n                  {!n.read && (\r\n                    <div className=\"w-2 h-2 rounded-full bg-blue-600 mt-2 flex-shrink-0\" />\r\n                  )}\r\n                </button>\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\components\\sidebar\\Sidebar.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchSubscriptions'. Either include it or remove the dependency array.","line":58,"column":6,"nodeType":"ArrayExpression","endLine":58,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [fetchSubscriptions, user]","fix":{"range":[1758,1764],"text":"[fetchSubscriptions, user]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\components\\upload\\UploadProgress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\components\\video\\Comments.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchComments'. Either include it or remove the dependency array.","line":37,"column":6,"nodeType":"ArrayExpression","endLine":37,"endColumn":23,"suggestions":[{"desc":"Update the dependencies array to be: [videoId, sortBy, fetchComments]","fix":{"range":[1102,1119],"text":"[videoId, sortBy, fetchComments]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1286,1289],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1286,1289],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":59,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1743,1746],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1743,1746],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":74,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2222,2225],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2222,2225],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\components\\video\\LiveChat.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadMessages'. Either include it or remove the dependency array.","line":92,"column":6,"nodeType":"ArrayExpression","endLine":92,"endColumn":46,"suggestions":[{"desc":"Update the dependencies array to be: [videoId, userId, username, displayName, loadMessages]","fix":{"range":[2748,2788],"text":"[videoId, userId, username, displayName, loadMessages]"}}]},{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from 'react-hooks/exhaustive-deps').","line":99,"column":3,"severity":1,"nodeType":null,"fix":{"range":[2946,3043],"text":" "}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { useState, useEffect, useRef } from 'react';\r\nimport { apiClient } from '../../lib/api';\r\nimport { realtimeService, type CommentData } from '../../utils/realtimeService';\r\n\r\ninterface ChatMessage {\r\n  id: string;\r\n  username: string;\r\n  displayName: string;\r\n  message: string;\r\n  timestamp: Date;\r\n  avatarUrl?: string;\r\n  badge?: 'verified' | 'member' | 'moderator';\r\n  highlighted?: boolean;\r\n  likes?: number;\r\n  liked?: boolean;\r\n}\r\n\r\ninterface LiveChatProps {\r\n  videoId: string;\r\n  isLive?: boolean;\r\n  userId?: string;\r\n  username?: string;\r\n  displayName?: string;\r\n}\r\n\r\ninterface ApiComment {\r\n  id: string;\r\n  content: string;\r\n  createdAt: string;\r\n  user?: {\r\n    username?: string;\r\n    displayName?: string;\r\n    avatarUrl?: string;\r\n  };\r\n}\r\n\r\nexport function LiveChat({\r\n  videoId,\r\n  userId,\r\n  username = 'Anonymous',\r\n  displayName = 'User',\r\n}: LiveChatProps) {\r\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [sortBy, setSortBy] = useState<'top' | 'new'>('new');\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [hoveredMessageId, setHoveredMessageId] = useState<string | null>(null);\r\n  const [likedMessages, setLikedMessages] = useState<Set<string>>(new Set());\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const chatContainerRef = useRef<HTMLDivElement>(null);\r\n  const typingTimeoutRef = useRef<ReturnType<typeof setTimeout> | undefined>(undefined);\r\n\r\n  useEffect(() => {\r\n    // Connect to real-time service and join video\r\n    realtimeService.connect();\r\n    realtimeService.joinVideo(videoId, userId, username, displayName);\r\n\r\n    // Load initial messages\r\n    loadMessages();\r\n\r\n    // Subscribe to real-time events\r\n    const unsubNewComment = realtimeService.on('new-comment', (commentData: CommentData) => {\r\n      const chatMsg: ChatMessage = {\r\n        id: commentData.id,\r\n        username: commentData.username,\r\n        displayName: commentData.displayName,\r\n        message: commentData.content,\r\n        timestamp: new Date(commentData.timestamp),\r\n        avatarUrl: commentData.avatarUrl,\r\n        badge: commentData.badge,\r\n      };\r\n\r\n      setMessages((prev) => {\r\n        const updated = [...prev, chatMsg];\r\n        // Keep only last 50 messages\r\n        return updated.slice(-50);\r\n      });\r\n\r\n      // Auto scroll to new message\r\n      setTimeout(() => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n      }, 100);\r\n    });\r\n\r\n    // Cleanup on unmount\r\n    return () => {\r\n      unsubNewComment();\r\n      realtimeService.leaveVideo();\r\n    };\r\n  }, [videoId, userId, username, displayName]);\r\n\r\n  // Auto scroll when messages update\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps -- loadMessages used in mount effect only\r\n  const loadMessages = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = (await apiClient.get(`/videos/${videoId}/comments`)) as {\r\n        data: { success: boolean; data: ApiComment[] };\r\n      };\r\n      if (response.data?.success) {\r\n        const chatMessages: ChatMessage[] = response.data.data.map((comment: ApiComment) => ({\r\n          id: comment.id,\r\n          username: comment.user?.username || 'Anonymous',\r\n          displayName: comment.user?.displayName || comment.user?.username || 'User',\r\n          message: comment.content,\r\n          timestamp: new Date(comment.createdAt),\r\n          avatarUrl: comment.user?.avatarUrl,\r\n        }));\r\n        setMessages(chatMessages.slice(-50)); // Last 50 messages\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load chat messages:', error);\r\n      // Add placeholder messages\r\n      addPlaceholderMessages();\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const addPlaceholderMessages = () => {\r\n    const placeholders: ChatMessage[] = [\r\n      {\r\n        id: '1',\r\n        username: '@CreatorXYZ',\r\n        displayName: 'CreatorXYZ',\r\n        message: 'Thanks for watching everyone!',\r\n        timestamp: new Date(Date.now() - 30000),\r\n      },\r\n      {\r\n        id: '2',\r\n        username: '@UserA',\r\n        displayName: 'UserA',\r\n        message: 'Love this content',\r\n        timestamp: new Date(Date.now() - 25000),\r\n        badge: 'member',\r\n      },\r\n      {\r\n        id: '3',\r\n        username: '@UserB',\r\n        displayName: 'UserB',\r\n        message: 'Amazing quality!',\r\n        timestamp: new Date(Date.now() - 20000),\r\n      },\r\n      {\r\n        id: '4',\r\n        username: '@UserC',\r\n        displayName: 'UserC',\r\n        message: 'Can you explain more?',\r\n        timestamp: new Date(Date.now() - 15000),\r\n      },\r\n      {\r\n        id: '5',\r\n        username: '@UserD',\r\n        displayName: 'UserD',\r\n        message: 'Best video ever ≡ƒöÑ',\r\n        timestamp: new Date(Date.now() - 10000),\r\n      },\r\n      {\r\n        id: '6',\r\n        username: '@UserE',\r\n        displayName: 'UserE',\r\n        message: 'When is next upload?',\r\n        timestamp: new Date(Date.now() - 5000),\r\n      },\r\n      {\r\n        id: '7',\r\n        username: '@CreatorXYZ',\r\n        displayName: 'CreatorXYZ',\r\n        message: 'Next video coming tomorrow!',\r\n        timestamp: new Date(Date.now() - 2000),\r\n        badge: 'verified',\r\n      },\r\n    ];\r\n\r\n    setMessages(placeholders);\r\n  };\r\n\r\n  const handleSendMessage = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!newMessage.trim()) return;\r\n\r\n    const messageToSend = newMessage;\r\n    setNewMessage('');\r\n\r\n    try {\r\n      // Send via real-time service\r\n      realtimeService.sendComment(videoId, username, displayName, messageToSend, userId);\r\n\r\n      // Also send to backend API for persistence\r\n      await apiClient.post(`/videos/${videoId}/comments`, {\r\n        content: messageToSend,\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to send comment:', error);\r\n      setNewMessage(messageToSend); // Restore message on error\r\n    }\r\n  };\r\n\r\n  const handleTyping = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    setNewMessage(value);\r\n\r\n    // Notify typing\r\n    if (!isTyping) {\r\n      setIsTyping(true);\r\n      realtimeService.notifyTyping(videoId, displayName, true);\r\n    }\r\n\r\n    // Clear typing timeout\r\n    if (typingTimeoutRef.current) {\r\n      clearTimeout(typingTimeoutRef.current);\r\n    }\r\n\r\n    // Set new timeout to clear typing indicator\r\n    typingTimeoutRef.current = setTimeout(() => {\r\n      setIsTyping(false);\r\n      realtimeService.notifyTyping(videoId, displayName, false);\r\n    }, 1000);\r\n  };\r\n\r\n  const handleLikeMessage = (messageId: string) => {\r\n    setLikedMessages((prev) => {\r\n      const updated = new Set(prev);\r\n      if (updated.has(messageId)) {\r\n        updated.delete(messageId);\r\n      } else {\r\n        updated.add(messageId);\r\n      }\r\n      return updated;\r\n    });\r\n\r\n    // Notify backend of reaction\r\n    realtimeService.reactToComment(videoId, messageId, 'like');\r\n  };\r\n\r\n  const handlePinMessage = (messageId: string) => {\r\n    setMessages((prev) =>\r\n      prev.map((msg) => (msg.id === messageId ? { ...msg, highlighted: !msg.highlighted } : msg))\r\n    );\r\n  };\r\n\r\n  const formatTime = (date: Date) => {\r\n    const now = new Date();\r\n    const seconds = Math.floor((now.getTime() - date.getTime()) / 1000);\r\n\r\n    if (seconds < 60) return `${seconds}s ago`;\r\n    if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;\r\n    if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;\r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  const getBadgeColor = (badge?: string) => {\r\n    switch (badge) {\r\n      case 'verified':\r\n        return 'bg-blue-500';\r\n      case 'member':\r\n        return 'bg-orange-500';\r\n      case 'moderator':\r\n        return 'bg-red-500';\r\n      default:\r\n        return '';\r\n    }\r\n  };\r\n\r\n  const sortedMessages = [...messages].sort((a, b) => {\r\n    if (sortBy === 'top') {\r\n      return (b.timestamp.getTime() - a.timestamp.getTime()) * Math.random() - 0.5;\r\n    }\r\n    return b.timestamp.getTime() - a.timestamp.getTime();\r\n  });\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full bg-neutral-900 border-l border-neutral-800 rounded-lg overflow-hidden\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between px-4 py-3 border-b border-neutral-800 bg-neutral-800/50\">\r\n        <h3 className=\"text-sm font-semibold text-white\">Live Chat</h3>\r\n        <div className=\"relative\">\r\n          <button\r\n            onClick={() => setShowMenu(!showMenu)}\r\n            className=\"p-1.5 hover:bg-neutral-700 rounded-full transition text-neutral-400\"\r\n            title=\"Chat options\"\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path d=\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />\r\n            </svg>\r\n          </button>\r\n\r\n          {showMenu && (\r\n            <div className=\"absolute right-0 top-full mt-1 bg-neutral-800 rounded-lg shadow-lg z-10 min-w-[200px]\">\r\n              <button\r\n                onClick={() => {\r\n                  setSortBy(sortBy === 'top' ? 'new' : 'top');\r\n                  setShowMenu(false);\r\n                }}\r\n                className=\"w-full text-left px-4 py-2 text-sm text-neutral-300 hover:bg-neutral-700 transition first:rounded-t-lg last:rounded-b-lg\"\r\n              >\r\n                Sort by: {sortBy === 'top' ? 'Top' : 'New'}\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Messages Container */}\r\n      <div\r\n        ref={chatContainerRef}\r\n        className=\"flex-1 overflow-y-auto px-3 py-3 space-y-2 scrollbar-thin scrollbar-thumb-neutral-700 scrollbar-track-neutral-800\"\r\n      >\r\n        {isLoading ? (\r\n          <div className=\"flex items-center justify-center h-full text-neutral-500\">\r\n            <span className=\"text-sm\">Loading chat...</span>\r\n          </div>\r\n        ) : messages.length === 0 ? (\r\n          <div className=\"flex items-center justify-center h-full text-neutral-500 text-center px-2\">\r\n            <span className=\"text-sm\">No messages yet. Be the first to chat!</span>\r\n          </div>\r\n        ) : (\r\n          sortedMessages.map((msg) => (\r\n            <div\r\n              key={msg.id}\r\n              onMouseEnter={() => setHoveredMessageId(msg.id)}\r\n              onMouseLeave={() => setHoveredMessageId(null)}\r\n              className={`group p-2 rounded transition text-xs ${msg.highlighted ? 'bg-yellow-500/10 border-l-2 border-yellow-500' : 'hover:bg-neutral-800/50'}`}\r\n            >\r\n              <div className=\"flex items-top gap-2\">\r\n                {/* Avatar */}\r\n                {msg.avatarUrl ? (\r\n                  <img\r\n                    src={msg.avatarUrl}\r\n                    alt={msg.displayName}\r\n                    className=\"w-6 h-6 rounded-full flex-shrink-0 mt-0.5\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0 mt-0.5 text-white text-[10px] font-bold\">\r\n                    {msg.displayName.charAt(0).toUpperCase()}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Message */}\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <div className=\"flex items-center gap-1.5 flex-wrap justify-between mb-1\">\r\n                    <div className=\"flex items-center gap-1.5 flex-wrap\">\r\n                      <span className=\"font-semibold text-neutral-200 truncate\">{msg.displayName}</span>\r\n\r\n                      {msg.badge && (\r\n                        <span\r\n                          className={`${getBadgeColor(msg.badge)} text-white text-[9px] px-1.5 py-0.5 rounded-full font-bold`}\r\n                        >\r\n                          {msg.badge === 'verified'\r\n                            ? 'Γ£ô'\r\n                            : msg.badge === 'member'\r\n                              ? 'MEMBER'\r\n                              : 'MOD'}\r\n                        </span>\r\n                      )}\r\n\r\n                      <span className=\"text-neutral-500 text-[11px] flex-shrink-0\">{formatTime(msg.timestamp)}</span>\r\n                    </div>\r\n\r\n                    {/* Hover Actions */}\r\n                    {hoveredMessageId === msg.id && (\r\n                      <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition\">\r\n                        <button\r\n                          onClick={() => handleLikeMessage(msg.id)}\r\n                          className={`p-1 rounded hover:bg-neutral-700 transition ${\r\n                            likedMessages.has(msg.id) ? 'text-red-500' : 'text-neutral-400'\r\n                          }`}\r\n                          title=\"Like\"\r\n                        >\r\n                          <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" />\r\n                          </svg>\r\n                        </button>\r\n\r\n                        <button\r\n                          onClick={() => handlePinMessage(msg.id)}\r\n                          className=\"p-1 rounded hover:bg-neutral-700 transition text-neutral-400\"\r\n                          title=\"Pin\"\r\n                        >\r\n                          <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path d=\"M16 9V3H8v6H2l7 7v8l2-2v-6h2v6l2 2v-8l7-7h-6z\" />\r\n                          </svg>\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <p className=\"text-neutral-300 break-words text-xs mt-0.5\">{msg.message}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      {/* Input Form */}\r\n      <form\r\n        onSubmit={handleSendMessage}\r\n        className=\"border-t border-neutral-800 p-3 bg-neutral-800/50 space-y-2\"\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          value={newMessage}\r\n          onChange={handleTyping}\r\n          placeholder=\"Add a comment...\"\r\n          maxLength={200}\r\n          className=\"w-full bg-neutral-700 text-white placeholder-neutral-500 rounded px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 transition\"\r\n        />\r\n\r\n        <div className=\"flex items-center justify-between\">\r\n          <span className=\"text-[11px] text-neutral-500\">{newMessage.length}/200</span>\r\n          <button\r\n            type=\"submit\"\r\n            disabled={!newMessage.trim()}\r\n            className=\"rounded px-3 py-1.5 bg-blue-600 text-white text-xs font-semibold hover:bg-blue-700 disabled:bg-neutral-700 disabled:text-neutral-500 transition\"\r\n          >\r\n            Comment\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\components\\video\\SkeletonCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\components\\video\\VideoCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\components\\video\\VideoEngagement.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\project\\video-project\\frontend\\src\\components\\video\\VideoEngagement.tsx:79:5\n  77 |\n  78 |   useEffect(() => {\n> 79 |     checkSubscriptionStatus();\n     |     ^^^^^^^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  80 |     checkLikeStatus();\n  81 |   }, [checkSubscriptionStatus, checkLikeStatus]);\n  82 |","line":79,"column":5,"nodeType":null,"endLine":79,"endColumn":28}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":52,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1869,1872],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1869,1872],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":68,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2425,2428],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2425,2428],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":86,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":86,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2982,2985],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2982,2985],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":109,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":109,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3793,3796],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3793,3796],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":132,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":132,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4450,4453],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4450,4453],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { apiClient } from '../../lib/api';\r\n\r\ninterface VideoEngagementProps {\r\n  videoId: string;\r\n  channelId: string;\r\n  channelName: string;\r\n  channelHandle: string;\r\n  channelAvatar: string;\r\n  subscriberCount: number;\r\n  verified: boolean;\r\n  likes: number;\r\n  dislikes: number;\r\n  views?: number;\r\n}\r\n\r\nexport function VideoEngagement({\r\n  videoId,\r\n  channelId,\r\n  channelName,\r\n  channelHandle,\r\n  channelAvatar,\r\n  subscriberCount,\r\n  verified,\r\n  likes: initialLikes,\r\n  dislikes: initialDislikes,\r\n}: VideoEngagementProps) {\r\n  const navigate = useNavigate();\r\n  const [isSubscribed, setIsSubscribed] = useState(false);\r\n  const [notificationsOn, setNotificationsOn] = useState(false);\r\n  const [liked, setLiked] = useState(false);\r\n  const [disliked, setDisliked] = useState(false);\r\n  const [likes, setLikes] = useState(initialLikes);\r\n  const [dislikes, setDislikes] = useState(initialDislikes);\r\n  const [showShareMenu, setShowShareMenu] = useState(false);\r\n  const [showSaveMenu, setShowSaveMenu] = useState(false);\r\n  const [showMoreMenu, setShowMoreMenu] = useState(false);\r\n  const [savedToWatchLater, setSavedToWatchLater] = useState(false);\r\n  const [savedToFavorites, setSavedToFavorites] = useState(false);\r\n  const [showNewPlaylist, setShowNewPlaylist] = useState(false);\r\n  const [newPlaylistName, setNewPlaylistName] = useState('');\r\n  const nativeShare = (navigator as Navigator & { share?: (data: ShareData) => Promise<void> }).share;\r\n  const canNativeShare = typeof nativeShare === 'function';\r\n\r\n  const checkSubscriptionStatus = useCallback(async () => {\r\n    try {\r\n      const token = apiClient.getToken();\r\n      if (!token) return;\r\n\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      const data: any = await apiClient.get(`/channels/${channelId}/subscription`);\r\n      if (data.success) {\r\n        setIsSubscribed(data.data.isSubscribed);\r\n        setNotificationsOn(data.data.notificationsOn || false);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to check subscription:', error);\r\n    }\r\n  }, [channelId]);\r\n\r\n  const checkLikeStatus = useCallback(async () => {\r\n    try {\r\n      const token = apiClient.getToken();\r\n      if (!token) return;\r\n\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      const data: any = await apiClient.get(`/videos/${videoId}/like-status`);\r\n      if (data.success) {\r\n        setLiked(data.data.liked);\r\n        setDisliked(data.data.disliked);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to check like status:', error);\r\n    }\r\n  }, [videoId]);\r\n\r\n  useEffect(() => {\r\n    checkSubscriptionStatus();\r\n    checkLikeStatus();\r\n  }, [checkSubscriptionStatus, checkLikeStatus]);\r\n\r\n  const toggleSubscribe = async () => {\r\n    try {\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      const data: any = isSubscribed\r\n        ? await apiClient.delete(`/channels/${channelId}/subscribe`)\r\n        : await apiClient.post(`/channels/${channelId}/subscribe`, { notificationsOn: true });\r\n      if (data.success) {\r\n        setIsSubscribed(!isSubscribed);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to toggle subscription:', error);\r\n    }\r\n  };\r\n\r\n  const toggleNotifications = async () => {\r\n    try {\r\n      await apiClient.patch(`/channels/${channelId}/notifications`, { notificationsOn: !notificationsOn });\r\n      setNotificationsOn(!notificationsOn);\r\n    } catch (error) {\r\n      console.error('Failed to toggle notifications:', error);\r\n    }\r\n  };\r\n\r\n  const handleLike = async () => {\r\n    try {\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      const data: any = await apiClient.post(`/videos/${videoId}/like`, { type: 'LIKE' });\r\n      if (data.success) {\r\n        if (liked) {\r\n          setLiked(false);\r\n          setLikes(likes - 1);\r\n        } else {\r\n          setLiked(true);\r\n          setLikes(likes + 1);\r\n          if (disliked) {\r\n            setDisliked(false);\r\n            setDislikes(dislikes - 1);\r\n          }\r\n        }\r\n        setShowShareMenu(false);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to like video:', error);\r\n    }\r\n  };\r\n\r\n  const handleDislike = async () => {\r\n    try {\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      const data: any = await apiClient.post(`/videos/${videoId}/like`, { type: 'DISLIKE' });\r\n      if (data.success) {\r\n        if (disliked) {\r\n          setDisliked(false);\r\n          setDislikes(dislikes - 1);\r\n        } else {\r\n          setDisliked(true);\r\n          setDislikes(dislikes + 1);\r\n          if (liked) {\r\n            setLiked(false);\r\n            setLikes(likes - 1);\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to dislike video:', error);\r\n    }\r\n  };\r\n\r\n  const handleShare = () => {\r\n    const url = `${window.location.origin}/watch?v=${videoId}`;\r\n    if (canNativeShare) {\r\n      nativeShare({\r\n        title: 'Check out this video!',\r\n        url: url,\r\n      });\r\n    } else {\r\n      navigator.clipboard.writeText(url);\r\n      alert('Link copied to clipboard!');\r\n    }\r\n    setShowShareMenu(false);\r\n  };\r\n\r\n  const formatNumber = (num: number) => {\r\n    if (num >= 1000000) return `${(num / 1000000).toFixed(1)}M`;\r\n    if (num >= 1000) return `${(num / 1000).toFixed(1)}K`;\r\n    return num.toString();\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between py-3\">\r\n      {/* Channel Info */}\r\n      <div className=\"flex items-center gap-3\">\r\n        <img\r\n          src={channelAvatar}\r\n          alt={channelName}\r\n          className=\"w-10 h-10 rounded-full cursor-pointer\"\r\n          onClick={() => navigate(`/channel/${channelHandle}`)}\r\n        />\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex items-center gap-1\">\r\n            <h3 \r\n              className=\"font-semibold cursor-pointer hover:text-gray-700\"\r\n              onClick={() => navigate(`/channel/${channelHandle}`)}\r\n            >\r\n              {channelName}\r\n            </h3>\r\n            {verified && (\r\n              <svg className=\"w-4 h-4 text-gray-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path fillRule=\"evenodd\" d=\"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n            )}\r\n          </div>\r\n          <p className=\"text-sm text-gray-600\">{formatNumber(subscriberCount)} subscribers</p>\r\n        </div>\r\n        \r\n        {/* Subscribe Button */}\r\n        <div className=\"flex items-center gap-2\">\r\n          <button\r\n            onClick={toggleSubscribe}\r\n            className={`px-4 py-2 rounded-full font-semibold ${\r\n              isSubscribed \r\n                ? 'bg-neutral-200 hover:bg-neutral-300 text-black' \r\n                : 'bg-red-600 hover:bg-red-700 text-white'\r\n            }`}\r\n          >\r\n            {isSubscribed ? 'Subscribed' : 'Subscribe'}\r\n          </button>\r\n          \r\n          {isSubscribed && (\r\n            <button\r\n              onClick={toggleNotifications}\r\n              className={`p-2 rounded-full transition-colors ${\r\n                notificationsOn ? 'bg-red-50 text-red-600' : 'hover:bg-neutral-200'\r\n              }`}\r\n              title={notificationsOn ? 'All notifications' : 'Notifications off'}\r\n            >\r\n              {notificationsOn ? (\r\n                <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path d=\"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z\" />\r\n                </svg>\r\n              ) : (\r\n                <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path fillRule=\"evenodd\" d=\"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z\" clipRule=\"evenodd\" />\r\n                  <path d=\"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z\" />\r\n                </svg>\r\n              )}\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Engagement Actions */}\r\n      <div className=\"flex items-center gap-2\">\r\n        {/* Like/Dislike */}\r\n        <div className=\"flex items-center bg-neutral-100 rounded-full\">\r\n          <button\r\n            onClick={handleLike}\r\n            className={`flex items-center gap-2 px-4 py-2 rounded-l-full hover:bg-neutral-200 transition-colors ${\r\n              liked ? 'text-red-600 bg-red-50' : 'text-neutral-700'\r\n            }`}\r\n          >\r\n            <svg className=\"w-5 h-5\" fill={liked ? 'currentColor' : 'none'} stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5\" />\r\n            </svg>\r\n            <span className=\"font-semibold\">{formatNumber(likes)}</span>\r\n          </button>\r\n          <div className=\"w-px h-6 bg-gray-300\" />\r\n          <button\r\n            onClick={handleDislike}\r\n            className={`px-4 py-2 rounded-r-full hover:bg-neutral-200 transition-colors ${\r\n              disliked ? 'text-neutral-900 bg-neutral-200' : 'text-neutral-700'\r\n            }`}\r\n          >\r\n            <svg className=\"w-5 h-5\" fill={disliked ? 'currentColor' : 'none'} stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Share */}\r\n        <div className=\"relative\">\r\n          <button\r\n            onClick={() => {\r\n              if (canNativeShare) {\r\n                handleShare();\r\n                return;\r\n              }\r\n              setShowShareMenu(!showShareMenu);\r\n            }}\r\n            className={`flex items-center gap-2 px-4 py-2 rounded-full transition-colors ${\r\n              showShareMenu ? 'bg-neutral-200 text-neutral-900' : 'bg-neutral-100 hover:bg-neutral-200'\r\n            }`}\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\" />\r\n            </svg>\r\n            <span className=\"font-semibold\">Share</span>\r\n          </button>\r\n          \r\n          {showShareMenu && (\r\n            <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl py-2 z-10 border border-neutral-200\">\r\n              <button onClick={handleShare} className=\"w-full px-4 py-2 text-left hover:bg-neutral-100\">Copy link</button>\r\n              <button onClick={() => window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(window.location.href)}`, '_blank')} className=\"w-full px-4 py-2 text-left hover:bg-neutral-100\">Share on Twitter</button>\r\n              <button onClick={() => window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`, '_blank')} className=\"w-full px-4 py-2 text-left hover:bg-neutral-100\">Share on Facebook</button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Save to Playlist */}\r\n        <div className=\"relative\">\r\n          <button\r\n            onClick={() => setShowSaveMenu(!showSaveMenu)}\r\n            className={`flex items-center gap-2 px-4 py-2 rounded-full transition-colors ${\r\n              showSaveMenu ? 'bg-neutral-200 text-neutral-900' : 'bg-neutral-100 hover:bg-neutral-200'\r\n            }`}\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\" />\r\n            </svg>\r\n            <span className=\"font-semibold\">Save</span>\r\n          </button>\r\n          \r\n          {showSaveMenu && (\r\n            <div className=\"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-xl py-2 z-10 border border-neutral-200\">\r\n              <div className=\"px-4 py-2 font-semibold border-b\">Save to...</div>\r\n              <button\r\n                onClick={() => setSavedToWatchLater(!savedToWatchLater)}\r\n                className=\"w-full px-4 py-2 text-left hover:bg-neutral-100 flex items-center justify-between\"\r\n              >\r\n                <span>Watch later</span>\r\n                <input type=\"checkbox\" checked={savedToWatchLater} readOnly className=\"accent-red-600\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setSavedToFavorites(!savedToFavorites)}\r\n                className=\"w-full px-4 py-2 text-left hover:bg-neutral-100 flex items-center justify-between\"\r\n              >\r\n                <span>Favorites</span>\r\n                <input type=\"checkbox\" checked={savedToFavorites} readOnly className=\"accent-red-600\" />\r\n              </button>\r\n              <div className=\"border-t mt-2 pt-2\">\r\n                {showNewPlaylist ? (\r\n                  <div className=\"px-4 py-2 space-y-2\">\r\n                    <input\r\n                      value={newPlaylistName}\r\n                      onChange={(e) => setNewPlaylistName(e.target.value)}\r\n                      placeholder=\"Playlist name\"\r\n                      className=\"w-full px-3 py-1.5 border border-neutral-300 rounded text-sm focus:ring-2 focus:ring-red-500 focus:outline-none\"\r\n                      autoFocus\r\n                    />\r\n                    <div className=\"flex gap-2\">\r\n                      <button\r\n                        onClick={() => {\r\n                          if (newPlaylistName.trim()) {\r\n                            alert(`Playlist \"${newPlaylistName}\" created`);\r\n                            setNewPlaylistName('');\r\n                            setShowNewPlaylist(false);\r\n                          }\r\n                        }}\r\n                        className=\"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700\"\r\n                      >\r\n                        Create\r\n                      </button>\r\n                      <button onClick={() => setShowNewPlaylist(false)} className=\"px-3 py-1 text-sm hover:bg-neutral-100 rounded\">Cancel</button>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <button onClick={() => setShowNewPlaylist(true)} className=\"w-full px-4 py-2 text-left text-red-600 hover:bg-neutral-100\">+ Create new playlist</button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* More Options */}\r\n        <div className=\"relative\">\r\n          <button\r\n            onClick={() => setShowMoreMenu(!showMoreMenu)}\r\n            className=\"p-2 hover:bg-neutral-200 rounded-full transition-colors\"\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n              <path d=\"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z\" />\r\n            </svg>\r\n          </button>\r\n          {showMoreMenu && (\r\n            <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl py-1 z-10 border border-neutral-200\">\r\n              <button\r\n                onClick={() => { navigator.clipboard.writeText(`${window.location.origin}/watch?v=${videoId}`); setShowMoreMenu(false); alert('Link copied!'); }}\r\n                className=\"w-full px-4 py-2 text-left text-sm hover:bg-neutral-100\"\r\n              >\r\n                Copy link\r\n              </button>\r\n              <button\r\n                onClick={() => { setShowMoreMenu(false); alert('Video removed from recommendations.'); }}\r\n                className=\"w-full px-4 py-2 text-left text-sm hover:bg-neutral-100\"\r\n              >\r\n                Not interested\r\n              </button>\r\n              <button\r\n                onClick={() => { setShowMoreMenu(false); alert('Thank you for reporting. We will review this content.'); }}\r\n                className=\"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-neutral-100\"\r\n              >\r\n                Report\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\components\\video\\VideoPlayer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\context\\AuthContext.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":47,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1320,1323],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1320,1323],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":63,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1821,1824],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1821,1824],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":77,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2349,2352],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2349,2352],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":106,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":106,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\context\\SidebarContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\context\\SidebarContextValue.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\hooks\\useSidebar.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\lib\\api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\Channel.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1213,1216],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1213,1216],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":50,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1687,1690],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1687,1690],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":70,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":70,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2277,2280],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2277,2280],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\History.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":112,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":115,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[855,858],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[855,858],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { usersApi } from \"../lib/api\";\r\nimport VideoCard from \"../components/video/VideoCard\";\r\nimport type { Video } from \"../types\";\r\n\r\ninterface HistoryItem {\r\n  id: string;\r\n  watchedAt: string;\r\n  video: Video;\r\n}\r\n\r\nexport default function History() {\r\n  const navigate = useNavigate();\r\n  const { isAuthenticated } = useAuth();\r\n  const [items, setItems] = useState<HistoryItem[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    const loadHistory = async () => {\r\n      try {\r\n        const response = (await usersApi.getWatchHistory({ page: 1, limit: 40 })) as { success: boolean; data: any[] };\r\n        if (response.success) {\r\n          setItems(response.data);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Failed to load history:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadHistory();\r\n  }, [isAuthenticated, navigate]);\r\n\r\n  const clearHistory = async () => {\r\n    if (!window.confirm('Are you sure you want to clear your entire watch history? This cannot be undone.')) {\r\n      return;\r\n    }\r\n    try {\r\n      await usersApi.clearWatchHistory();\r\n      setItems([]);\r\n    } catch (err) {\r\n      console.error(\"Failed to clear history:\", err);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <div className=\"w-10 h-10 border-4 border-red-600 border-t-transparent rounded-full animate-spin\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"pt-2\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h1 className=\"text-2xl font-bold\">History</h1>\r\n        <button\r\n          onClick={clearHistory}\r\n          className=\"px-4 py-2 rounded-full border border-neutral-300 hover:bg-neutral-100 text-sm\"\r\n        >\r\n          Clear all\r\n        </button>\r\n      </div>\r\n\r\n      {items.length === 0 ? (\r\n        <div className=\"text-neutral-500\">No watch history yet.</div>\r\n      ) : (\r\n        <div className=\"grid gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\r\n          {items.map((item) => (\r\n            <VideoCard key={item.id} video={item.video} />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\Home.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'loadFilteredVideos' and 'loadHomeFeed'. Either include them or remove the dependency array.","line":47,"column":6,"nodeType":"ArrayExpression","endLine":47,"endColumn":39,"suggestions":[{"desc":"Update the dependencies array to be: [category, page, isAuthenticated, loadFilteredVideos, loadHomeFeed]","fix":{"range":[1583,1616],"text":"[category, page, isAuthenticated, loadFilteredVideos, loadHomeFeed]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":105,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3309,3312],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3309,3312],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState, useCallback, useRef } from \"react\";\r\nimport VideoCard from \"../components/video/VideoCard\";\r\nimport SkeletonCard from \"../components/video/SkeletonCard\";\r\nimport { videosApi, recommendationsApi } from \"../lib/api\";\r\nimport type { Video, ApiResponse } from \"../types\";\r\nimport { VIDEO_CATEGORY_FILTERS } from \"../utils/categories\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\ninterface HomeSection {\r\n  id: string;\r\n  title: string;\r\n  videos: Video[];\r\n}\r\n\r\nexport default function Home() {\r\n  const [videos, setVideos] = useState<Video[]>([]);\r\n  const [sections, setSections] = useState<HomeSection[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingMore, setLoadingMore] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [category, setCategory] = useState<'ALL' | string>('ALL');\r\n  const [mode, setMode] = useState<'sections' | 'grid'>('sections');\r\n  const { isAuthenticated } = useAuth();\r\n  const observerRef = useRef<IntersectionObserver | null>(null);\r\n  const sentinelRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  // Reset when category changes\r\n  useEffect(() => {\r\n    setPage(1);\r\n    setVideos([]);\r\n    setHasMore(true);\r\n    if (category !== 'ALL') {\r\n      setMode('grid');\r\n    } else {\r\n      setMode('sections');\r\n    }\r\n  }, [category]);\r\n\r\n  useEffect(() => {\r\n    if (category !== 'ALL') {\r\n      loadFilteredVideos(page, page === 1);\r\n    } else {\r\n      loadHomeFeed();\r\n    }\r\n  }, [category, page, isAuthenticated]);\r\n\r\n  // Infinite scroll observer\r\n  useEffect(() => {\r\n    if (mode !== 'grid' || !hasMore || loadingMore) return;\r\n\r\n    observerRef.current?.disconnect();\r\n    observerRef.current = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries[0].isIntersecting && hasMore && !loadingMore && !loading) {\r\n          setPage(prev => prev + 1);\r\n        }\r\n      },\r\n      { rootMargin: '200px' }\r\n    );\r\n\r\n    if (sentinelRef.current) {\r\n      observerRef.current.observe(sentinelRef.current);\r\n    }\r\n\r\n    return () => observerRef.current?.disconnect();\r\n  }, [mode, hasMore, loadingMore, loading]);\r\n\r\n  async function loadHomeFeed() {\r\n    try {\r\n      setLoading(true);\r\n      setError(\"\");\r\n\r\n      const response = (await recommendationsApi.getHomeFeed()) as ApiResponse<{ sections: HomeSection[] }>;\r\n      if (response.data?.sections) {\r\n        setSections(response.data.sections);\r\n      } else {\r\n        setMode('grid');\r\n        await loadFilteredVideos(1, true);\r\n      }\r\n    } catch {\r\n      setMode('grid');\r\n      await loadFilteredVideos(1, true);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function loadFilteredVideos(p: number, reset: boolean = false) {\r\n    try {\r\n      if (reset) setLoading(true);\r\n      else setLoadingMore(true);\r\n      setError(\"\");\r\n\r\n      const response = await videosApi.getFeed({\r\n        page: p,\r\n        limit: 20,\r\n        category: category === 'ALL' ? undefined : category,\r\n      }) as ApiResponse<Video[]>;\r\n\r\n      const newVideos = response.data || [];\r\n      setVideos(prev => reset ? newVideos : [...prev, ...newVideos]);\r\n      setHasMore(response.meta?.hasNextPage || false);\r\n    } catch (err: any) {\r\n      console.error('Failed to load videos:', err);\r\n      setError(err.message || 'Failed to load videos');\r\n    } finally {\r\n      setLoading(false);\r\n      setLoadingMore(false);\r\n    }\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"p-4\">\r\n        <div className=\"bg-red-900/20 border border-red-700 text-red-400 p-4 rounded-lg\">\r\n          {error}\r\n          <button\r\n            onClick={loadHomeFeed}\r\n            className=\"ml-4 px-4 py-2 bg-red-600 hover:bg-red-700 rounded\"\r\n          >\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"pt-1\">\r\n      {/* Category Filter Bar */}\r\n      <div className=\"flex gap-2 overflow-x-auto pb-4 mb-4 scrollbar-thin\">\r\n        {VIDEO_CATEGORY_FILTERS.map((item) => (\r\n          <button\r\n            key={item.id}\r\n            onClick={() => setCategory(item.id)}\r\n            className={`px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap transition-colors ${\r\n              category === item.id\r\n                ? 'bg-black text-white'\r\n                : 'bg-neutral-100 text-neutral-700 hover:bg-neutral-200'\r\n            }`}\r\n          >\r\n            {item.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"grid gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5\">\r\n          {Array.from({ length: 10 }).map((_, i) => (\r\n            <SkeletonCard key={i} />\r\n          ))}\r\n        </div>\r\n      ) : mode === 'sections' && sections.length > 0 ? (\r\n        /* ================================\r\n           Personalized Sectioned Home Feed\r\n           ================================ */\r\n        <div className=\"space-y-8\">\r\n          {sections.map((section) => (\r\n            <HomeVideoSection key={section.id} section={section} />\r\n          ))}\r\n        </div>\r\n      ) : videos.length === 0 && sections.length === 0 ? (\r\n        <div className=\"text-center py-12 text-neutral-500\">\r\n          <p>No videos available yet.</p>\r\n          <p className=\"text-sm mt-2\">Be the first to upload!</p>\r\n        </div>\r\n      ) : (\r\n        /* ================================\r\n           Classic Grid View (filtered)\r\n           ================================ */\r\n        <div className=\"grid gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5\">\r\n          {videos.map((video) => (\r\n            <VideoCard key={video.id} video={video} />\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Infinite scroll sentinel */}\r\n      {mode === 'grid' && !loading && (\r\n        <div ref={sentinelRef} className=\"flex justify-center py-8\">\r\n          {loadingMore && (\r\n            <div className=\"w-8 h-8 border-4 border-red-600 border-t-transparent rounded-full animate-spin\" />\r\n          )}\r\n          {!hasMore && videos.length > 0 && (\r\n            <p className=\"text-sm text-neutral-400\">No more videos</p>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/* Horizontal scrollable section */\r\nfunction HomeVideoSection({ section }: { section: HomeSection }) {\r\n  const scrollRef = useRef<HTMLDivElement>(null);\r\n  const [canScrollLeft, setCanScrollLeft] = useState(false);\r\n  const [canScrollRight, setCanScrollRight] = useState(true);\r\n\r\n  const checkScroll = useCallback(() => {\r\n    const el = scrollRef.current;\r\n    if (!el) return;\r\n    setCanScrollLeft(el.scrollLeft > 10);\r\n    setCanScrollRight(el.scrollLeft + el.clientWidth < el.scrollWidth - 10);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    checkScroll();\r\n    const el = scrollRef.current;\r\n    el?.addEventListener('scroll', checkScroll, { passive: true });\r\n    return () => el?.removeEventListener('scroll', checkScroll);\r\n  }, [checkScroll]);\r\n\r\n  const scroll = (dir: 'left' | 'right') => {\r\n    scrollRef.current?.scrollBy({ left: dir === 'left' ? -400 : 400, behavior: 'smooth' });\r\n  };\r\n\r\n  if (section.videos.length === 0) return null;\r\n\r\n  const sectionIcon: Record<string, string> = {\r\n    continue: 'Γû╢∩╕Å',\r\n    subscriptions: '≡ƒöö',\r\n    trending: '≡ƒöÑ',\r\n    'for-you': 'Γ£¿',\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative group\">\r\n      {/* Section Title */}\r\n      <div className=\"flex items-center gap-2 mb-3 px-1\">\r\n        <span className=\"text-lg\">{sectionIcon[section.id] || '≡ƒô║'}</span>\r\n        <h2 className=\"text-lg font-semibold text-neutral-900\">{section.title}</h2>\r\n        <span className=\"text-xs text-neutral-400 mt-0.5\">({section.videos.length})</span>\r\n      </div>\r\n\r\n      {/* Scrollable Row */}\r\n      <div className=\"relative\">\r\n        {canScrollLeft && (\r\n          <button\r\n            onClick={() => scroll('left')}\r\n            className=\"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-white/90 rounded-full shadow-lg flex items-center justify-center hover:bg-white transition opacity-0 group-hover:opacity-100\"\r\n          >\r\n            ΓÇ╣\r\n          </button>\r\n        )}\r\n\r\n        <div\r\n          ref={scrollRef}\r\n          className=\"flex gap-4 overflow-x-auto scrollbar-hide pb-2 scroll-smooth\"\r\n          style={{ scrollbarWidth: 'none', msOverflowStyle: 'none' }}\r\n        >\r\n          {section.videos.map((video) => (\r\n            <div key={video.id} className=\"flex-shrink-0 w-72\">\r\n              <VideoCard video={video} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {canScrollRight && (\r\n          <button\r\n            onClick={() => scroll('right')}\r\n            className=\"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-10 h-10 bg-white/90 rounded-full shadow-lg flex items-center justify-center hover:bg-white transition opacity-0 group-hover:opacity-100\"\r\n          >\r\n            ΓÇ║\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\Liked.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":109,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":112,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1074,1077],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1074,1077],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState, useRef, useCallback } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { usersApi } from \"../lib/api\";\r\nimport VideoCard from \"../components/video/VideoCard\";\r\nimport type { Video } from \"../types\";\r\n\r\ninterface LikeItem {\r\n  id: string;\r\n  createdAt: string;\r\n  video: Video;\r\n}\r\n\r\nexport default function Liked() {\r\n  const navigate = useNavigate();\r\n  const { isAuthenticated } = useAuth();\r\n  const [items, setItems] = useState<LikeItem[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingMore, setLoadingMore] = useState(false);\r\n  const [page, setPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const sentinelRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  const loadLikes = useCallback(async (p: number, reset: boolean) => {\r\n    try {\r\n      if (reset) setLoading(true);\r\n      else setLoadingMore(true);\r\n\r\n      const response = (await usersApi.getLikedVideos({ page: p, limit: 20 })) as { success: boolean; data: any[]; meta?: { hasNextPage?: boolean } };\r\n      if (response.success) {\r\n        const newItems = response.data || [];\r\n        setItems(prev => reset ? newItems : [...prev, ...newItems]);\r\n        setHasMore(response.meta?.hasNextPage ?? newItems.length === 20);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Failed to load liked videos:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n      setLoadingMore(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n    loadLikes(1, true);\r\n  }, [isAuthenticated, navigate, loadLikes]);\r\n\r\n  // Infinite scroll\r\n  useEffect(() => {\r\n    if (!hasMore || loadingMore || loading) return;\r\n\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries[0].isIntersecting && hasMore && !loadingMore) {\r\n          const nextPage = page + 1;\r\n          setPage(nextPage);\r\n          loadLikes(nextPage, false);\r\n        }\r\n      },\r\n      { rootMargin: '200px' }\r\n    );\r\n\r\n    if (sentinelRef.current) observer.observe(sentinelRef.current);\r\n    return () => observer.disconnect();\r\n  }, [hasMore, loadingMore, loading, page, loadLikes]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <div className=\"w-10 h-10 border-4 border-red-600 border-t-transparent rounded-full animate-spin\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"pt-2\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h1 className=\"text-2xl font-bold\">Liked videos</h1>\r\n        {items.length > 0 && (\r\n          <span className=\"text-sm text-neutral-500\">{items.length} video{items.length !== 1 ? 's' : ''}</span>\r\n        )}\r\n      </div>\r\n      {items.length === 0 ? (\r\n        <div className=\"text-center py-12 text-neutral-500\">\r\n          <p>No liked videos yet.</p>\r\n          <p className=\"text-sm mt-2\">Videos you like will appear here.</p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"grid gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\r\n            {items.map((item) => (\r\n              <VideoCard key={item.id} video={item.video} />\r\n            ))}\r\n          </div>\r\n          <div ref={sentinelRef} className=\"flex justify-center py-8\">\r\n            {loadingMore && (\r\n              <div className=\"w-8 h-8 border-4 border-red-600 border-t-transparent rounded-full animate-spin\" />\r\n            )}\r\n            {!hasMore && items.length > 20 && (\r\n              <p className=\"text-sm text-neutral-400\">No more liked videos</p>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\Login.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\Profile.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\Search.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\Shorts.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":45,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2064,2067],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2064,2067],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'scrollToIndex'. Either include it or remove the dependency array.","line":54,"column":6,"nodeType":"ArrayExpression","endLine":54,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [category, scrollToIndex]","fix":{"range":[2277,2287],"text":"[category, scrollToIndex]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useRef, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { apiClient, recommendationsApi, videosApi, usersApi } from '../lib/api';\r\nimport type { Video, ApiResponse } from '../types';\r\nimport { VIDEO_CATEGORY_FILTERS } from '../utils/categories';\r\n\r\nexport default function Shorts() {\r\n  const navigate = useNavigate();\r\n  const [shorts, setShorts] = useState<Video[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [likedShorts, setLikedShorts] = useState<Record<string, boolean>>({});\r\n  const [dislikedShorts, setDislikedShorts] = useState<Record<string, boolean>>({});\r\n  const [likeCounts, setLikeCounts] = useState<Record<string, number>>({});\r\n  const [likeAnimations, setLikeAnimations] = useState<Record<string, boolean>>({});\r\n  const [subscribedChannels, setSubscribedChannels] = useState<Record<string, boolean>>({});\r\n  const [showMoreMenu, setShowMoreMenu] = useState<string | null>(null);\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const itemRefs = useRef<(HTMLDivElement | null)[]>([]);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const touchStartYRef = useRef(0);\r\n  const lastTapRef = useRef(0);\r\n  const singleTapTimeoutRef = useRef<number | null>(null);\r\n  const [category, setCategory] = useState<'ALL' | string>('ALL');\r\n\r\n  useEffect(() => {\r\n    const fetchShorts = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError('');\r\n        const response = (await recommendationsApi.getShortsFeed({\r\n          page: 1,\r\n          limit: 20,\r\n          category: category === 'ALL' ? undefined : category,\r\n        })) as ApiResponse<Video[]>;\r\n        setShorts(response.data);\r\n        setLikeCounts(\r\n          response.data.reduce((acc, item) => {\r\n            acc[item.id] = item.likes || 0;\r\n            return acc;\r\n          }, {} as Record<string, number>)\r\n        );\r\n        setActiveIndex(0);\r\n        requestAnimationFrame(() => scrollToIndex(0));\r\n      } catch (err: any) {\r\n        console.error('Failed to load shorts:', err);\r\n        setError(err.message || 'Failed to load shorts');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchShorts();\r\n  }, [category]);\r\n\r\n  const handleLike = async (videoId: string) => {\r\n    const token = apiClient.getToken();\r\n    if (!token) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    // Show like animation\r\n    setLikeAnimations((prev) => ({ ...prev, [videoId]: true }));\r\n    setTimeout(() => {\r\n      setLikeAnimations((prev) => ({ ...prev, [videoId]: false }));\r\n    }, 600);\r\n\r\n    try {\r\n      const wasLiked = !!likedShorts[videoId];\r\n      await videosApi.toggleLike(videoId, 'LIKE');\r\n      setLikedShorts((prev) => ({ ...prev, [videoId]: !wasLiked }));\r\n      setLikeCounts((prev) => ({\r\n        ...prev,\r\n        [videoId]: Math.max(0, (prev[videoId] || 0) + (wasLiked ? -1 : 1)),\r\n      }));\r\n    } catch (err) {\r\n      console.error('Failed to like short:', err);\r\n    }\r\n  };\r\n\r\n  const handleDislike = async (videoId: string) => {\r\n    const token = apiClient.getToken();\r\n    if (!token) { navigate('/login'); return; }\r\n    try {\r\n      const wasDisliked = !!dislikedShorts[videoId];\r\n      await videosApi.toggleLike(videoId, 'DISLIKE');\r\n      setDislikedShorts((prev) => ({ ...prev, [videoId]: !wasDisliked }));\r\n      if (!wasDisliked && likedShorts[videoId]) {\r\n        setLikedShorts((prev) => ({ ...prev, [videoId]: false }));\r\n        setLikeCounts((prev) => ({ ...prev, [videoId]: Math.max(0, (prev[videoId] || 0) - 1) }));\r\n      }\r\n    } catch (err) { console.error('Failed to dislike short:', err); }\r\n  };\r\n\r\n  const handleSubscribe = async (channelId: string) => {\r\n    const token = apiClient.getToken();\r\n    if (!token) { navigate('/login'); return; }\r\n    try {\r\n      const wasSub = !!subscribedChannels[channelId];\r\n      if (wasSub) {\r\n        await usersApi.unsubscribe(channelId);\r\n      } else {\r\n        await usersApi.subscribe(channelId);\r\n      }\r\n      setSubscribedChannels((prev) => ({ ...prev, [channelId]: !wasSub }));\r\n    } catch (err) { console.error('Failed to toggle subscription:', err); }\r\n  };\r\n\r\n  const handleShare = async (videoId: string) => {\r\n    const url = `${window.location.origin}/watch?v=${videoId}`;\r\n    if (navigator.share) {\r\n      try {\r\n        await navigator.share({ title: 'Check out this short!', url });\r\n        return;\r\n      } catch {\r\n        // Ignore share cancel\r\n      }\r\n    }\r\n\r\n    try {\r\n      await navigator.clipboard.writeText(url);\r\n      alert('Link copied to clipboard!');\r\n    } catch (err) {\r\n      console.error('Failed to copy link:', err);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    if (Number.isNaN(date.getTime())) {\r\n      return 'Just now';\r\n    }\r\n    const now = new Date();\r\n    const diffTime = Math.abs(now.getTime() - date.getTime());\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffDays < 1) return 'Today';\r\n    if (diffDays < 7) return `${diffDays}d ago`;\r\n    if (diffDays < 30) return `${Math.floor(diffDays / 7)}w ago`;\r\n    if (diffDays < 365) return `${Math.floor(diffDays / 30)}mo ago`;\r\n    return `${Math.floor(diffDays / 365)}y ago`;\r\n  };\r\n\r\n  const scrollToIndex = (index: number) => {\r\n    const clamped = Math.max(0, Math.min(shorts.length - 1, index));\r\n    const target = itemRefs.current[clamped];\r\n    if (target) {\r\n      target.scrollIntoView({ behavior: 'smooth' });\r\n      setActiveIndex(clamped);\r\n    }\r\n  };\r\n\r\n  const handleSwipeEnd = (endY: number) => {\r\n    const delta = endY - touchStartYRef.current;\r\n    if (Math.abs(delta) < 60) return;\r\n    if (delta < 0) {\r\n      scrollToIndex(activeIndex + 1);\r\n    } else {\r\n      scrollToIndex(activeIndex - 1);\r\n    }\r\n  };\r\n\r\n  const handleShortTap = (videoId: string, e: React.PointerEvent<HTMLVideoElement>) => {\r\n    const now = Date.now();\r\n    const isDoubleTap = now - lastTapRef.current < 280;\r\n    lastTapRef.current = now;\r\n\r\n    if (isDoubleTap) {\r\n      if (singleTapTimeoutRef.current) {\r\n        window.clearTimeout(singleTapTimeoutRef.current);\r\n        singleTapTimeoutRef.current = null;\r\n      }\r\n      handleLike(videoId);\r\n      return;\r\n    }\r\n\r\n    if (singleTapTimeoutRef.current) {\r\n      window.clearTimeout(singleTapTimeoutRef.current);\r\n    }\r\n\r\n    const video = e.currentTarget;\r\n    singleTapTimeoutRef.current = window.setTimeout(() => {\r\n      if (video.paused) {\r\n        video.play().catch(() => undefined);\r\n      } else {\r\n        video.pause();\r\n      }\r\n      singleTapTimeoutRef.current = null;\r\n    }, 200);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"p-6 text-neutral-400\">Loading shorts...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"bg-red-900/20 border border-red-700 text-red-400 p-4 rounded-lg\">\r\n          {error}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-[calc(100vh-56px)] bg-black\">\r\n      {/* Category Filters */}\r\n      <div className=\"absolute top-4 left-4 right-4 z-10 flex gap-2 overflow-x-auto scrollbar-hide\">\r\n        {VIDEO_CATEGORY_FILTERS.slice(0, 8).map((item) => (\r\n          <button\r\n            key={item.id}\r\n            onClick={() => setCategory(item.id)}\r\n            className={`px-4 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-all ${\r\n              category === item.id\r\n                ? 'bg-white text-black'\r\n                : 'bg-white/20 text-white hover:bg-white/30 backdrop-blur-sm'\r\n            }`}\r\n          >\r\n            {item.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Shorts Scroll Container */}\r\n      <div\r\n        ref={containerRef}\r\n        className=\"h-full overflow-y-scroll snap-y snap-mandatory scroll-smooth\"\r\n        style={{ scrollbarWidth: 'none', msOverflowStyle: 'none' }}\r\n        onScroll={() => {\r\n          const container = containerRef.current;\r\n          if (!container) return;\r\n          const index = Math.round(container.scrollTop / container.clientHeight);\r\n          if (index !== activeIndex) {\r\n            setActiveIndex(index);\r\n          }\r\n        }}\r\n        onTouchStart={(e) => {\r\n          touchStartYRef.current = e.touches[0]?.clientY || 0;\r\n        }}\r\n        onTouchEnd={(e) => {\r\n          handleSwipeEnd(e.changedTouches[0]?.clientY || 0);\r\n        }}\r\n      >\r\n        {shorts.map((short, index) => (\r\n          <div\r\n            key={short.id}\r\n            ref={(el) => {\r\n              itemRefs.current[index] = el;\r\n            }}\r\n            className=\"h-full snap-start flex items-center justify-center relative\"\r\n          >\r\n            {/* Video */}\r\n            <video\r\n              src={`${import.meta.env.VITE_STREAM_URL || import.meta.env.VITE_API_URL?.replace('/api', '') || 'http://localhost:4000'}/hls/${short.id}/master.m3u8`}\r\n              className=\"h-full w-auto max-w-full object-contain\"\r\n              autoPlay={index === activeIndex}\r\n              muted\r\n              loop\r\n              playsInline\r\n              onPointerUp={(e) => handleShortTap(short.id, e)}\r\n            />\r\n\r\n            {/* Double-Tap Like Animation */}\r\n            {likeAnimations[short.id] && (\r\n              <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none z-30\">\r\n                <div className=\"animate-bounce\">\r\n                  <svg\r\n                    className=\"w-20 h-20 text-red-500 drop-shadow-lg\"\r\n                    fill=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Top Info - Channel */}\r\n            <div className=\"absolute top-20 left-6 right-24 flex items-center gap-3 z-20\">\r\n              <img\r\n                src={short.channel.avatarUrl || `https://ui-avatars.com/api/?name=${short.channel.name}`}\r\n                alt={short.channel.name}\r\n                className=\"w-10 h-10 rounded-full border-2 border-white\"\r\n              />\r\n              <div className=\"flex-1 min-w-0\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className=\"font-semibold text-white text-sm\">\r\n                    {short.channel.handle}\r\n                  </span>\r\n                  <span className=\"text-gray-300 text-xs\">\r\n                    {formatDate(short.publishedAt)}\r\n                  </span>\r\n                </div>\r\n                <p className=\"text-white text-sm font-medium line-clamp-1\">\r\n                  {short.title} {short.description && '≡ƒÿì'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Bottom Left Info */}\r\n            <div className=\"absolute bottom-24 left-6 right-24 z-20\">\r\n              <div className=\"flex items-center gap-2 mb-3\">\r\n                <button\r\n                  onClick={() => handleSubscribe(short.channel.id)}\r\n                  className={`px-4 py-1.5 rounded-full text-sm font-semibold transition ${\r\n                    subscribedChannels[short.channel.id]\r\n                      ? 'bg-white/20 text-white hover:bg-white/30 backdrop-blur-sm'\r\n                      : 'bg-white text-black hover:bg-gray-200'\r\n                  }`}\r\n                >\r\n                  {subscribedChannels[short.channel.id] ? 'Subscribed' : 'Subscribe'}\r\n                </button>\r\n                <button\r\n                  onClick={() => navigate(`/channel/${short.channel.handle || short.channel.id}`)}\r\n                  className=\"p-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-full transition\"\r\n                >\r\n                  <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 12h14M12 5l7 7-7 7\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n              {short.description && (\r\n                <p className=\"text-white text-sm line-clamp-2 drop-shadow-lg\">\r\n                  {short.description}\r\n                </p>\r\n              )}\r\n              <div className=\"flex items-center gap-2 mt-2\">\r\n                <img\r\n                  src={short.channel.avatarUrl || `https://ui-avatars.com/api/?name=${short.channel.name}`}\r\n                  alt=\"\"\r\n                  className=\"w-8 h-8 rounded-full\"\r\n                />\r\n                <span className=\"text-white text-xs font-medium\">@{short.channel.handle}</span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right Side Actions - YouTube Style */}\r\n            <div className=\"absolute bottom-24 right-4 flex flex-col items-center gap-6 z-20\">\r\n              {/* Like Button */}\r\n              <button\r\n                onClick={() => handleLike(short.id)}\r\n                className=\"flex flex-col items-center gap-1 group\"\r\n              >\r\n                <div className={`w-12 h-12 rounded-full flex items-center justify-center transition ${\r\n                  likedShorts[short.id]\r\n                    ? 'bg-white text-black'\r\n                    : 'bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white'\r\n                }`}>\r\n                  <svg className=\"w-6 h-6\" fill={likedShorts[short.id] ? 'currentColor' : 'none'} stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5\" />\r\n                  </svg>\r\n                </div>\r\n                <span className=\"text-white text-xs font-medium drop-shadow\">\r\n                  {(likeCounts[short.id] || 0) >= 1000\r\n                    ? `${((likeCounts[short.id] || 0) / 1000).toFixed(0)}K`\r\n                    : likeCounts[short.id] || 0}\r\n                </span>\r\n              </button>\r\n\r\n              {/* Dislike Button */}\r\n              <button\r\n                onClick={() => handleDislike(short.id)}\r\n                className=\"flex flex-col items-center gap-1 group\"\r\n              >\r\n                <div className={`w-12 h-12 rounded-full flex items-center justify-center transition ${\r\n                  dislikedShorts[short.id]\r\n                    ? 'bg-white text-black'\r\n                    : 'bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white'\r\n                }`}>\r\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5\" />\r\n                  </svg>\r\n                </div>\r\n                <span className=\"text-white text-xs font-medium drop-shadow\">Dislike</span>\r\n              </button>\r\n\r\n              {/* Comments Button */}\r\n              <button\r\n                onClick={() => navigate(`/watch?v=${short.id}`)}\r\n                className=\"flex flex-col items-center gap-1 group\"\r\n              >\r\n                <div className=\"w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm flex items-center justify-center text-white transition\">\r\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\r\n                  </svg>\r\n                </div>\r\n                <span className=\"text-white text-xs font-medium drop-shadow\">\r\n                  {short.commentCount || 0}\r\n                </span>\r\n              </button>\r\n\r\n              {/* Share Button */}\r\n              <button\r\n                onClick={() => handleShare(short.id)}\r\n                className=\"flex flex-col items-center gap-1 group\"\r\n              >\r\n                <div className=\"w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm flex items-center justify-center text-white transition\">\r\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\" />\r\n                  </svg>\r\n                </div>\r\n                <span className=\"text-white text-xs font-medium drop-shadow\">Share</span>\r\n              </button>\r\n\r\n              {/* More Button */}\r\n              <div className=\"relative\">\r\n                <button\r\n                  onClick={() => setShowMoreMenu(showMoreMenu === short.id ? null : short.id)}\r\n                  className=\"flex flex-col items-center gap-1 group\"\r\n                >\r\n                  <div className=\"w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm flex items-center justify-center text-white transition rotate-90\">\r\n                    <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                      <path d=\"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z\" />\r\n                    </svg>\r\n                  </div>\r\n                </button>\r\n                {showMoreMenu === short.id && (\r\n                  <div className=\"absolute right-14 bottom-0 w-48 bg-neutral-800 rounded-lg shadow-xl py-1 z-30 border border-neutral-700\">\r\n                    <button onClick={() => { handleShare(short.id); setShowMoreMenu(null); }} className=\"w-full px-4 py-2.5 text-left text-white text-sm hover:bg-neutral-700\">Copy link</button>\r\n                    <button onClick={() => { navigate(`/watch?v=${short.id}`); setShowMoreMenu(null); }} className=\"w-full px-4 py-2.5 text-left text-white text-sm hover:bg-neutral-700\">Open in full player</button>\r\n                    <button onClick={() => {\r\n                      setShorts(prev => prev.filter(s => s.id !== short.id));\r\n                      setShowMoreMenu(null);\r\n                    }} className=\"w-full px-4 py-2.5 text-left text-red-400 text-sm hover:bg-neutral-700\">Not interested</button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Channel Avatar */}\r\n              <div className=\"relative mt-2\">\r\n                <img\r\n                  src={short.channel.avatarUrl || `https://ui-avatars.com/api/?name=${short.channel.name}`}\r\n                  alt={short.channel.name}\r\n                  className=\"w-12 h-12 rounded-full border-2 border-white cursor-pointer\"\r\n                  onClick={() => navigate(`/channel/${short.channel.id}`)}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Navigation Arrows - Desktop */}\r\n            {index > 0 && (\r\n              <button\r\n                onClick={() => scrollToIndex(index - 1)}\r\n                className=\"hidden md:flex absolute top-1/2 left-4 -translate-y-1/2 w-10 h-10 items-center justify-center rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white transition z-20\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 15l7-7 7 7\" />\r\n                </svg>\r\n              </button>\r\n            )}\r\n            {index < shorts.length - 1 && (\r\n              <button\r\n                onClick={() => scrollToIndex(index + 1)}\r\n                className=\"hidden md:flex absolute bottom-28 left-1/2 -translate-x-1/2 w-10 h-10 items-center justify-center rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white transition z-20\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                </svg>\r\n              </button>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\Studio.tsx","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from '@typescript-eslint/no-explicit-any').","line":16,"column":7,"severity":1,"nodeType":null,"fix":{"range":[425,487],"text":" "}},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\project\\video-project\\frontend\\src\\pages\\Studio.tsx:32:5\n  30 |       return;\n  31 |     }\n> 32 |     loadUserProfile();\n     |     ^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  33 |   }, [navigate]);\n  34 |\n  35 |   const menuItems = [","line":32,"column":5,"nodeType":null,"endLine":32,"endColumn":20}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { NavLink, Outlet, useNavigate } from 'react-router-dom';\r\nimport { apiClient } from '../lib/api';\r\nimport { useEffect, useState } from 'react';\r\n\r\ninterface StudioUser {\r\n  displayName?: string;\r\n  avatarUrl?: string;\r\n}\r\n\r\nexport default function Studio() {\r\n  const navigate = useNavigate();\r\n  const [user, setUser] = useState<StudioUser | null>(null);\r\n\r\n  const loadUserProfile = async () => {\r\n    try {\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      const response = await apiClient.get('/users/profile') as { data: { success: boolean; data: StudioUser } };\r\n      if (response.data?.success) {\r\n        setUser(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load profile:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = apiClient.getToken();\r\n    if (!token) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    loadUserProfile();\r\n  }, [navigate]);\r\n\r\n  const menuItems = [\r\n    { path: '/studio', label: 'Dashboard', icon: <DashboardIcon /> },\r\n    { path: '/studio/content', label: 'Content', icon: <ContentIcon /> },\r\n    { path: '/studio/analytics', label: 'Analytics', icon: <AnalyticsIcon /> },\r\n    { path: '/studio/community', label: 'Community', icon: <CommunityIcon /> },\r\n    { path: '/studio/subtitles', label: 'Subtitles', icon: <SubtitlesIcon /> },\r\n    { path: '/studio/copyright', label: 'Content detection', icon: <CopyrightIcon /> },\r\n    { path: '/studio/earn', label: 'Earn', icon: <EarnIcon /> },\r\n    { path: '/studio/customization', label: 'Customization', icon: <CustomIcon /> },\r\n    { path: '/studio/audio-library', label: 'Audio library', icon: <AudioIcon /> },\r\n    { path: '/studio/settings', label: 'Settings', icon: <SettingsIcon /> },\r\n    { path: '/studio/feedback', label: 'Send feedback', icon: <FeedbackIcon /> },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-[#282828]\">\r\n      {/* Sidebar */}\r\n      <div className=\"w-60 bg-[#212121] flex flex-col border-r border-gray-800\">\r\n        {/* Header */}\r\n        <div className=\"p-4 border-b border-gray-800\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-8 h-8 bg-red-600 rounded flex items-center justify-center\">\r\n              <svg className=\"w-5 h-5 text-white\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\" />\r\n              </svg>\r\n            </div>\r\n            <span className=\"text-xl font-bold text-white\">Studio</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Channel Info */}\r\n        <div className=\"p-4 border-b border-gray-800\">\r\n          <div className=\"flex items-center gap-3\">\r\n            {user?.avatarUrl ? (\r\n              <img src={user.avatarUrl} alt=\"\" className=\"w-16 h-16 rounded-full\" />\r\n            ) : (\r\n              <div className=\"w-16 h-16 bg-yellow-600 rounded-full flex items-center justify-center text-white font-bold text-xl\">\r\n                {user?.displayName?.[0] || 'U'}\r\n              </div>\r\n            )}\r\n            <div className=\"flex-1 min-w-0\">\r\n              <p className=\"font-semibold text-white text-sm truncate\">Your channel</p>\r\n              <p className=\"text-gray-400 text-xs truncate\">{user?.displayName || 'User'}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Menu Items */}\r\n        <nav className=\"flex-1 overflow-y-auto py-2\">\r\n          {menuItems.map((item) => (\r\n            <NavLink\r\n              key={item.path}\r\n              to={item.path}\r\n              end={item.path === '/studio'}\r\n              className={({ isActive }) =>\r\n                `flex items-center gap-4 px-4 py-2.5 text-sm transition-colors ${\r\n                  isActive\r\n                    ? 'bg-[#3d3d3d] text-white font-medium'\r\n                    : 'text-gray-300 hover:bg-[#3d3d3d]'\r\n                }`\r\n              }\r\n            >\r\n              <span className=\"w-5 h-5\">{item.icon}</span>\r\n              <span>{item.label}</span>\r\n            </NavLink>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 overflow-auto\">\r\n        <Outlet />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Icons\r\nfunction DashboardIcon() {\r\n  return (\r\n    <svg className=\"w-full h-full\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction ContentIcon() {\r\n  return (\r\n    <svg className=\"w-full h-full\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction AnalyticsIcon() {\r\n  return (\r\n    <svg className=\"w-full h-full\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction CommunityIcon() {\r\n  return (\r\n    <svg className=\"w-full h-full\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction SubtitlesIcon() {\r\n  return (\r\n    <svg className=\"w-full h-full\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction CopyrightIcon() {\r\n  return (\r\n    <svg className=\"w-full h-full\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-.22-13H10V5h1.78v2zm.89 2.54h-2.67V19h2.67V9.54z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction EarnIcon() {\r\n  return (\r\n    <svg className=\"w-full h-full\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction CustomIcon() {\r\n  return (\r\n    <svg className=\"w-full h-full\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction AudioIcon() {\r\n  return (\r\n    <svg className=\"w-full h-full\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction SettingsIcon() {\r\n  return (\r\n    <svg className=\"w-full h-full\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction FeedbackIcon() {\r\n  return (\r\n    <svg className=\"w-full h-full\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM13 14h-2v-2h2v2zm0-4h-2V6h2v4z\" />\r\n    </svg>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\Subscriptions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\Upload.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\Watch.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":66,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2061,2064],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2061,2064],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchRelatedVideos', 'fetchVideoDetails', and 'incrementViewCount'. Either include them or remove the dependency array.","line":56,"column":6,"nodeType":"ArrayExpression","endLine":56,"endColumn":15,"suggestions":[{"desc":"Update the dependencies array to be: [fetchRelatedVideos, fetchVideoDetails, incrementViewCount, videoId]","fix":{"range":[1751,1760],"text":"[fetchRelatedVideos, fetchVideoDetails, incrementViewCount, videoId]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState, useRef } from 'react';\r\nimport { useSearchParams, useNavigate, Link } from 'react-router-dom';\r\nimport { VideoPlayer } from '../components/video/VideoPlayer';\r\nimport { VideoEngagement } from '../components/video/VideoEngagement';\r\nimport { Comments } from '../components/video/Comments';\r\nimport { LiveChat } from '../components/video/LiveChat';\r\nimport { apiClient, videosApi } from '../lib/api';\r\n\r\ninterface Video {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  thumbnailUrl: string;\r\n  duration: number;\r\n  views: bigint | number;\r\n  likes: number;\r\n  dislikes: number;\r\n  commentCount: number;\r\n  publishedAt: string;\r\n  category?: string;\r\n  channel: {\r\n    id: string;\r\n    name: string;\r\n    handle: string;\r\n    avatarUrl: string;\r\n    verified: boolean;\r\n    subscriberCount: number;\r\n  };\r\n}\r\n\r\nexport default function Watch() {\r\n  const [searchParams] = useSearchParams();\r\n  const navigate = useNavigate();\r\n  const videoId = searchParams.get('v');\r\n  \r\n  const [video, setVideo] = useState<Video | null>(null);\r\n  const [relatedVideos, setRelatedVideos] = useState<Video[]>([]);\r\n  const [showFullDescription, setShowFullDescription] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [showLiveChat, setShowLiveChat] = useState(false);\r\n  const [isLive] = useState(false);\r\n  const lastTrackedRef = useRef(-1);\r\n\r\n  useEffect(() => {\r\n    if (!videoId) {\r\n      setError('No video specified');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    fetchVideoDetails();\r\n    fetchRelatedVideos();\r\n    incrementViewCount();\r\n    lastTrackedRef.current = -1;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [videoId]);\r\n\r\n  const fetchVideoDetails = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      const response = (await videosApi.getVideoById(videoId!)) as { success: boolean; data: Video };\r\n      if (response.success) {\r\n        setVideo(response.data);\r\n      }\r\n    } catch (err: any) {\r\n      console.error('Failed to fetch video:', err);\r\n      setError(err.message || 'Failed to load video');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchRelatedVideos = async () => {\r\n    try {\r\n      const response = (await videosApi.getRecommended(videoId!, 20)) as { success: boolean; data: Video[] };\r\n      if (response.success) {\r\n        setRelatedVideos(response.data.filter((v: Video) => v.id !== videoId));\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch related videos:', err);\r\n    }\r\n  };\r\n\r\n  const incrementViewCount = async () => {\r\n    try {\r\n      await apiClient.post(`/videos/${videoId}/view`);\r\n    } catch (err) {\r\n      console.error('Failed to increment view:', err);\r\n    }\r\n  };\r\n\r\n  const formatViews = (views: bigint | number) => {\r\n    const num = typeof views === 'bigint' ? Number(views) : views;\r\n    if (num >= 1000000) return `${(num / 1000000).toFixed(1)}M`;\r\n    if (num >= 1000) return `${(num / 1000).toFixed(1)}K`;\r\n    return num.toString();\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    if (Number.isNaN(date.getTime())) return 'Just now';\r\n    const now = new Date();\r\n    const diffTime = Math.abs(now.getTime() - date.getTime());\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffDays < 7) return `${diffDays} day${diffDays > 1 ? 's' : ''} ago`;\r\n    if (diffDays < 30) return `${Math.floor(diffDays / 7)} week${Math.floor(diffDays / 7) > 1 ? 's' : ''} ago`;\r\n    if (diffDays < 365) return `${Math.floor(diffDays / 30)} month${Math.floor(diffDays / 30) > 1 ? 's' : ''} ago`;\r\n    return `${Math.floor(diffDays / 365)} year${Math.floor(diffDays / 365) > 1 ? 's' : ''} ago`;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen\">\r\n        <div className=\"w-16 h-16 border-4 border-red-600 border-t-transparent rounded-full animate-spin\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !video) {\r\n    return (\r\n      <div className=\"flex flex-col justify-center items-center min-h-screen gap-4\">\r\n        <svg className=\"w-16 h-16 text-neutral-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\" />\r\n        </svg>\r\n        <h2 className=\"text-2xl font-bold\">{error || 'Video not found'}</h2>\r\n        <button onClick={() => navigate('/')} className=\"px-4 py-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition\">\r\n          Return to home\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"mx-auto py-6\" style={{ maxWidth: '1920px' }}>\r\n      <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-[1fr_400px]\">\r\n        {/* LEFT: Video Player and Details */}\r\n        <div className=\"w-full\">\r\n          {/* Video Player */}\r\n          <div className=\"mb-4 rounded-3xl overflow-hidden bg-black shadow-sm\">\r\n            <VideoPlayer\r\n              videoId={video.id}\r\n              title={video.title}\r\n              autoplay={false}\r\n              onTimeUpdate={(time) => {\r\n                const sec = Math.floor(time);\r\n                if (sec > 0 && sec % 30 === 0 && sec !== lastTrackedRef.current) {\r\n                  lastTrackedRef.current = sec;\r\n                  const token = apiClient.getToken();\r\n                  if (token) {\r\n                    apiClient\r\n                      .post(`/videos/${video.id}/watch`, { watchDuration: sec })\r\n                      .catch((err) => console.error('Failed to update watch history:', err));\r\n                  }\r\n                }\r\n              }}\r\n              onEnded={() => {\r\n                if (relatedVideos.length > 0) {\r\n                  navigate(`/watch?v=${relatedVideos[0].id}`);\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          {/* Video Title */}\r\n          <h1 className=\"text-2xl font-bold mb-2 text-neutral-900\">{video.title}</h1>\r\n\r\n          <div className=\"flex flex-wrap items-center gap-2 text-xs text-neutral-600 mb-4\">\r\n            <span className=\"bg-neutral-100 px-2 py-1 rounded-full\">\r\n              {formatViews(video.views)} views\r\n            </span>\r\n            <span className=\"bg-neutral-100 px-2 py-1 rounded-full\">\r\n              {formatDate(video.publishedAt)}\r\n            </span>\r\n            {video.category && (\r\n              <span className=\"bg-neutral-100 px-2 py-1 rounded-full uppercase tracking-wide\">\r\n                {video.category.replace('_', ' ')}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          {/* Engagement Bar */}\r\n          <div className=\"bg-white border border-neutral-200 rounded-2xl p-3 shadow-sm\">\r\n            <VideoEngagement\r\n              videoId={video.id}\r\n              channelId={video.channel.id}\r\n              channelName={video.channel.name}\r\n              channelHandle={video.channel.handle}\r\n              channelAvatar={video.channel.avatarUrl}\r\n              subscriberCount={video.channel.subscriberCount}\r\n              verified={video.channel.verified}\r\n              likes={video.likes}\r\n              dislikes={video.dislikes}\r\n              views={typeof video.views === 'bigint' ? Number(video.views) : video.views}\r\n            />\r\n          </div>\r\n\r\n          {/* Description */}\r\n          <div className=\"mt-4 bg-white border border-neutral-200 rounded-2xl p-4 shadow-sm\">\r\n            <div className=\"flex items-center gap-3 text-sm font-semibold mb-2 text-neutral-700\">\r\n              <span>About this video</span>\r\n            </div>\r\n            <div className={`text-sm whitespace-pre-wrap ${showFullDescription ? '' : 'line-clamp-2'}`}>\r\n              {video.description || 'No description provided.'}\r\n            </div>\r\n            {video.description && video.description.length > 100 && (\r\n              <button\r\n                onClick={() => setShowFullDescription(!showFullDescription)}\r\n                className=\"text-sm font-semibold mt-2 text-neutral-700 hover:text-neutral-900\"\r\n              >\r\n                {showFullDescription ? 'Show less' : 'Show more'}\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Comments Section */}\r\n          <Comments videoId={video.id} totalComments={video.commentCount} />\r\n        </div>\r\n\r\n        {/* RIGHT: Toggle between Chat and Related Videos */}\r\n        <div className=\"w-full\">\r\n          {/* Toggle bar */}\r\n          <div className=\"flex items-center gap-2 mb-3\">\r\n            <button \r\n              onClick={() => setShowLiveChat(false)}\r\n              className={`px-4 py-2 rounded-full text-sm font-semibold transition ${\r\n                !showLiveChat ? 'bg-neutral-900 text-white' : 'bg-neutral-100 hover:bg-neutral-200 text-neutral-700'\r\n              }`}\r\n            >\r\n              Related\r\n            </button>\r\n            <button \r\n              onClick={() => setShowLiveChat(true)}\r\n              className={`px-4 py-2 rounded-full text-sm font-semibold transition ${\r\n                showLiveChat ? 'bg-neutral-900 text-white' : 'bg-neutral-100 hover:bg-neutral-200 text-neutral-700'\r\n              }`}\r\n            >\r\n              Live Chat\r\n            </button>\r\n          </div>\r\n\r\n          {showLiveChat ? (\r\n            <div className=\"sticky top-20 h-[calc(100vh-10rem)] rounded-2xl overflow-hidden shadow-lg\">\r\n              <LiveChat videoId={video.id} isLive={isLive} />\r\n            </div>\r\n          ) : (\r\n            <div className=\"bg-white border border-neutral-200 rounded-2xl p-4 shadow-sm\">\r\n              <h3 className=\"text-sm font-semibold text-neutral-700 mb-3\">Up next</h3>\r\n              {relatedVideos.length === 0 ? (\r\n                <p className=\"text-sm text-neutral-400\">No related videos found.</p>\r\n              ) : (\r\n                relatedVideos.map((relatedVideo) => (\r\n                  <div key={relatedVideo.id} className=\"mb-3 last:mb-0\">\r\n                    <Link\r\n                      to={`/watch?v=${relatedVideo.id}`}\r\n                      className=\"flex gap-3 hover:bg-neutral-100 rounded-xl p-2 transition-colors\"\r\n                    >\r\n                      <div className=\"relative shrink-0 w-40\">\r\n                        <img\r\n                          src={relatedVideo.thumbnailUrl}\r\n                          alt={relatedVideo.title}\r\n                          className=\"w-full aspect-video object-cover rounded-xl\"\r\n                        />\r\n                        <span className=\"absolute bottom-1 right-1 bg-black/80 text-white text-xs px-1 rounded\">\r\n                          {Math.floor(relatedVideo.duration / 60)}:{(relatedVideo.duration % 60).toString().padStart(2, '0')}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <h3 className=\"font-semibold text-sm line-clamp-2 mb-1 text-neutral-900\">{relatedVideo.title}</h3>\r\n                        <p className=\"text-xs text-neutral-600\">{relatedVideo.channel.name}</p>\r\n                        {relatedVideo.channel.verified && (\r\n                          <svg className=\"inline w-3 h-3 text-neutral-500 ml-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                            <path fillRule=\"evenodd\" d=\"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                          </svg>\r\n                        )}\r\n                        <p className=\"text-xs text-neutral-500\">\r\n                          {formatViews(relatedVideo.views)} views &middot; {formatDate(relatedVideo.publishedAt)}\r\n                        </p>\r\n                      </div>\r\n                    </Link>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\studio\\StudioAnalytics.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[401,404],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[401,404],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { apiClient } from '../../lib/api';\r\n\r\nexport default function StudioAnalytics() {\r\n  const [stats, setStats] = useState({ views: 0, watchTimeHours: 0, subscribers: 0 });\r\n  const [period, setPeriod] = useState<'7d' | '28d' | '90d' | 'all'>('28d');\r\n\r\n  useEffect(() => {\r\n    const fetchAnalytics = async () => {\r\n      try {\r\n        const data: any = await apiClient.get(`/analytics/overview?period=${period}`);\r\n        if (data.success && data.data) {\r\n          setStats({\r\n            views: data.data.views || 0,\r\n            watchTimeHours: data.data.watchTimeHours || 0,\r\n            subscribers: data.data.subscribers || 0,\r\n          });\r\n        }\r\n      } catch {\r\n        // API may not exist yet ΓÇö leave defaults\r\n      }\r\n    };\r\n    fetchAnalytics();\r\n  }, [period]);\r\n\r\n  const fmt = (n: number) => n >= 1000 ? `${(n / 1000).toFixed(1)}K` : n.toString();\r\n\r\n  return (\r\n    <div className=\"p-8 text-white\">\r\n      <h1 className=\"text-3xl font-semibold mb-4\">Analytics</h1>\r\n\r\n      {/* Period selector */}\r\n      <div className=\"flex gap-2 mb-8\">\r\n        {(['7d', '28d', '90d', 'all'] as const).map((p) => (\r\n          <button\r\n            key={p}\r\n            onClick={() => setPeriod(p)}\r\n            className={`px-4 py-1.5 rounded-full text-sm ${period === p ? 'bg-white text-black' : 'bg-[#3d3d3d] text-gray-300 hover:bg-gray-700'}`}\r\n          >\r\n            {p === 'all' ? 'Lifetime' : `Last ${p}`}\r\n          </button>\r\n        ))}\r\n      </div>\r\n      \r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        <div className=\"bg-[#212121] rounded-lg p-6\">\r\n          <h3 className=\"text-sm text-gray-400 mb-2\">Views</h3>\r\n          <div className=\"text-4xl font-bold\">{fmt(stats.views)}</div>\r\n          <p className=\"text-xs text-gray-500 mt-2\">{period === 'all' ? 'All time' : `Last ${period}`}</p>\r\n        </div>\r\n        <div className=\"bg-[#212121] rounded-lg p-6\">\r\n          <h3 className=\"text-sm text-gray-400 mb-2\">Watch time (hours)</h3>\r\n          <div className=\"text-4xl font-bold\">{fmt(stats.watchTimeHours)}</div>\r\n          <p className=\"text-xs text-gray-500 mt-2\">{period === 'all' ? 'All time' : `Last ${period}`}</p>\r\n        </div>\r\n        <div className=\"bg-[#212121] rounded-lg p-6\">\r\n          <h3 className=\"text-sm text-gray-400 mb-2\">Subscribers</h3>\r\n          <div className=\"text-4xl font-bold\">{fmt(stats.subscribers)}</div>\r\n          <p className=\"text-xs text-gray-500 mt-2\">{period === 'all' ? 'All time' : `Last ${period}`}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-6 bg-[#212121] rounded-lg p-6 text-center py-12\">\r\n        <p className=\"text-gray-400\">\r\n          {stats.views > 0 ? 'Chart visualization coming soon' : 'Analytics data will appear once you publish videos'}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\studio\\StudioAudioLibrary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\studio\\StudioCommunity.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\studio\\StudioContent.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[922,925],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[922,925],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":37,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1254,1257],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1254,1257],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\studio\\StudioCopyright.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\studio\\StudioCustomization.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\studio\\StudioDashboard.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[337,340],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[337,340],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { apiClient } from '../../lib/api';\r\n\r\nexport default function StudioDashboard() {\r\n  const [stats, setStats] = useState({ views: 0, watchTime: 0, subscribers: 0, videos: 0, newSubs: 0 });\r\n\r\n  useEffect(() => {\r\n    const fetchStats = async () => {\r\n      try {\r\n        const data: any = await apiClient.get('/analytics/dashboard');\r\n        if (data.success && data.data) {\r\n          setStats({\r\n            views: data.data.views || 0,\r\n            watchTime: data.data.watchTime || 0,\r\n            subscribers: data.data.subscribers || 0,\r\n            videos: data.data.videos || 0,\r\n            newSubs: data.data.newSubscribers || 0,\r\n          });\r\n        }\r\n      } catch {\r\n        // API may not exist yet ΓÇö leave defaults\r\n      }\r\n    };\r\n    fetchStats();\r\n  }, []);\r\n\r\n  const fmt = (n: number) => n >= 1000 ? `${(n / 1000).toFixed(1)}K` : n.toString();\r\n\r\n  return (\r\n    <div className=\"p-8 text-white\">\r\n      <h1 className=\"text-4xl font-bold mb-8\">Dashboard</h1>\r\n\r\n      {/* Stats Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n        <div className=\"bg-[#212121] rounded-lg p-6\">\r\n          <div className=\"text-gray-400 text-sm mb-2\">Views</div>\r\n          <div className=\"text-3xl font-bold\">{fmt(stats.views)}</div>\r\n          <div className=\"text-gray-500 text-xs mt-1\">Last 48 hours</div>\r\n        </div>\r\n        <div className=\"bg-[#212121] rounded-lg p-6\">\r\n          <div className=\"text-gray-400 text-sm mb-2\">Watch time (mins)</div>\r\n          <div className=\"text-3xl font-bold\">{fmt(stats.watchTime)}</div>\r\n          <div className=\"text-gray-500 text-xs mt-1\">Last 48 hours</div>\r\n        </div>\r\n        <div className=\"bg-[#212121] rounded-lg p-6\">\r\n          <div className=\"text-gray-400 text-sm mb-2\">Subscribers</div>\r\n          <div className=\"text-3xl font-bold\">{fmt(stats.subscribers)}</div>\r\n          <div className=\"text-gray-500 text-xs mt-1\">+{stats.newSubs} this week</div>\r\n        </div>\r\n        <div className=\"bg-[#212121] rounded-lg p-6\">\r\n          <div className=\"text-gray-400 text-sm mb-2\">Videos</div>\r\n          <div className=\"text-3xl font-bold\">{stats.videos}</div>\r\n          <div className=\"text-gray-500 text-xs mt-1\">Published</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Charts Section */}\r\n      <div className=\"bg-[#212121] rounded-lg p-6\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Latest analytics</h2>\r\n        <div className=\"text-center py-12 text-gray-400\">\r\n          <svg className=\"w-24 h-24 mx-auto mb-4 opacity-50\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n          </svg>\r\n          <p>No data available yet</p>\r\n          <p className=\"text-sm text-gray-500 mt-2\">\r\n            Upload and publish videos to see analytics\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\studio\\StudioEarn.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\studio\\StudioFeedback.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\studio\\StudioSettings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\studio\\StudioSubtitles.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\pages\\studio\\StudioUpload.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":49,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1635,1638],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1635,1638],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { apiClient } from '../../lib/api';\r\n\r\nexport default function StudioUpload() {\r\n  const [selectedFiles, setSelectedFiles] = useState<File[]>([]);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [uploadError, setUploadError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files) {\r\n      setSelectedFiles(Array.from(e.target.files));\r\n      setUploadError('');\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    if (e.dataTransfer.files) {\r\n      setSelectedFiles(Array.from(e.dataTransfer.files));\r\n      setUploadError('');\r\n    }\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (selectedFiles.length === 0) return;\r\n    \r\n    setUploading(true);\r\n    setUploadError('');\r\n    setUploadProgress(0);\r\n\r\n    try {\r\n      for (let i = 0; i < selectedFiles.length; i++) {\r\n        const file = selectedFiles[i];\r\n        const formData = new FormData();\r\n        formData.append('video', file);\r\n        formData.append('title', file.name.replace(/\\.[^/.]+$/, ''));\r\n        formData.append('description', '');\r\n        formData.append('category', 'ENTERTAINMENT');\r\n        formData.append('visibility', 'PUBLIC');\r\n\r\n        await apiClient.upload('/videos/upload', formData);\r\n        setUploadProgress(Math.round(((i + 1) / selectedFiles.length) * 100));\r\n      }\r\n\r\n      navigate('/studio/content');\r\n    } catch (err: any) {\r\n      console.error('Upload failed:', err);\r\n      setUploadError(err.message || 'Upload failed. Please try again.');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50\">\r\n      <div className=\"bg-[#282828] rounded-lg w-full max-w-3xl max-h-[90vh] overflow-auto shadow-2xl\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-700\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <h2 className=\"text-2xl font-semibold text-white\">Upload videos</h2>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              className=\"p-2 hover:bg-gray-700 rounded-full text-gray-300\"\r\n              title=\"Help\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z\" />\r\n              </svg>\r\n            </button>\r\n            <button\r\n              onClick={() => navigate('/studio/content')}\r\n              className=\"p-2 hover:bg-gray-700 rounded-full text-gray-300\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Upload Area */}\r\n        <div className=\"p-12\">\r\n          {selectedFiles.length === 0 ? (\r\n            <div\r\n              onDrop={handleDrop}\r\n              onDragOver={(e) => e.preventDefault()}\r\n              className=\"border-2 border-dashed border-gray-600 rounded-lg p-12 text-center hover:border-gray-500 transition\"\r\n            >\r\n              <div className=\"flex flex-col items-center gap-6\">\r\n                <svg className=\"w-32 h-32 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\r\n                </svg>\r\n                <div>\r\n                  <h3 className=\"text-xl text-white mb-2 font-medium\">\r\n                    Drag and drop video files to upload\r\n                  </h3>\r\n                  <p className=\"text-gray-400 text-sm mb-6\">\r\n                    Your videos will be private until you publish them.\r\n                  </p>\r\n                  <label htmlFor=\"file-upload\" className=\"inline-block\">\r\n                    <div className=\"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded cursor-pointer\">\r\n                      Select files\r\n                    </div>\r\n                    <input\r\n                      id=\"file-upload\"\r\n                      type=\"file\"\r\n                      multiple\r\n                      accept=\"video/*\"\r\n                      onChange={handleFileSelect}\r\n                      className=\"hidden\"\r\n                    />\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-white text-lg font-medium\">\r\n                Selected Files ({selectedFiles.length})\r\n              </h3>\r\n              {selectedFiles.map((file, index) => (\r\n                <div\r\n                  key={index}\r\n                  className=\"flex items-center justify-between p-4 bg-[#3d3d3d] rounded\"\r\n                >\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <svg className=\"w-10 h-10 text-blue-400\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path d=\"M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z\" />\r\n                    </svg>\r\n                    <div>\r\n                      <p className=\"text-white font-medium\">{file.name}</p>\r\n                      <p className=\"text-gray-400 text-sm\">\r\n                        {(file.size / 1024 / 1024).toFixed(2)} MB\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <button\r\n                    onClick={() =>\r\n                      setSelectedFiles((files) =>\r\n                        files.filter((_, i) => i !== index)\r\n                      )\r\n                    }\r\n                    className=\"p-2 hover:bg-gray-600 rounded text-gray-300\"\r\n                  >\r\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              ))}\r\n              <button\r\n                onClick={handleUpload}\r\n                disabled={uploading}\r\n                className=\"w-full py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded font-medium\"\r\n              >\r\n                {uploading ? `Uploading... ${uploadProgress}%` : 'Upload'}\r\n              </button>\r\n              {uploadError && (\r\n                <p className=\"text-red-400 text-sm mt-2\">{uploadError}</p>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"p-6 border-t border-gray-700 bg-[#212121] text-xs text-gray-400\">\r\n          <p className=\"mb-2\">\r\n            By submitting your videos to YouTube, you acknowledge that you agree to YouTube's{' '}\r\n            <a href=\"#\" className=\"text-blue-400 hover:underline\">\r\n              Terms of Service\r\n            </a>{' '}\r\n            and{' '}\r\n            <a href=\"#\" className=\"text-blue-400 hover:underline\">\r\n              Community Guidelines\r\n            </a>\r\n            .\r\n          </p>\r\n          <p>\r\n            Please be sure not to violate others' copyright or privacy rights.{' '}\r\n            <a href=\"#\" className=\"text-blue-400 hover:underline\">\r\n              Learn more\r\n            </a>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\utils\\categories.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\utils\\eventTracker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\utils\\format.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\utils\\gestureRecognizer.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":232,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":232,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7149,7152],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7149,7152],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":241,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":241,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7390,7393],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7390,7393],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\utils\\notificationService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\project\\video-project\\frontend\\src\\utils\\realtimeService.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[614,617],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[614,617],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":159,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":159,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4042,4045],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4042,4045],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":172,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":172,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4426,4429],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4426,4429],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":177,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":177,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4602,4605],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4602,4605],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
